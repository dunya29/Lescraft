document.querySelector(".preloader")&&window.addEventListener("load",(e=>{setTimeout((()=>{document.body.classList.add("loaded")}),100)}));const header=document.querySelector(".header"),headerFix=document.querySelector(".fixed-header"),menuBtn=document.querySelector(".menu-btn"),iconMenu=document.querySelector(".icon-menu"),overlay=document.querySelector(".overlay"),modal=document.querySelectorAll(".modal"),successModal=document.querySelector("#success-modal"),errorModal=document.querySelector("#error-modal"),successPopup=document.querySelector(".success-popup"),cookiePopup=document.querySelector("#cookie-popup"),dropdown=document.querySelectorAll(".dropdown");let lblTimeout,animSpd=400,headerTranslate=0,bp={largeDesktop:1700.98,desktop:1250.98,laptop:1030.98,tablet:700.98,phone:575.98};function addToCart(e,t,r=!1){console.log(e+" Добавлен в корзину в количестве "+t),clearTimeout(lblTimeout),r&&r()}function removeFromCart(e,t=!1){console.log(e+" Удалён из корзины"),clearTimeout(lblTimeout),t&&t()}function addToFav(e,t=!1){console.log(e+" Добавлен в избранное"),clearTimeout(lblTimeout),t&&t()}function removeFromFav(e,t=!1){console.log(e+" Удалён из избранного"),clearTimeout(lblTimeout),t&&t()}function clearCart(e,t=!1){console.log(e),clearTimeout(lblTimeout),t&&t()}function catFilterSubmit(){}function setQuickView(e=!1){e&&e()}function sprite(e){return'<svg><use xlink:href="img/svg/sprite.svg#'+e+'"></use></svg>'}function scrollPos(){return window.pageYOffset||document.documentElement.scrollTop}function isPhone(e){return!!e.match(/^\+7 \d{3} \d{3}-\d{2}-\d{2}$/)}function maskEmail(e){const[t,r]=e.split("@");let o="";return o=t.length<=3?t.substring(0,1)+"***":t.substring(0,2)+"***"+t.substring(t.length-1),o+"@"+r}function enableScroll(){document.querySelector(".modal.open")||menuBtn.classList.contains("active")||(document.querySelectorAll(".fixed-block")&&document.querySelectorAll(".fixed-block").forEach((e=>e.style.paddingRight="0px")),document.body.style.paddingRight="0px",document.body.classList.remove("no-scroll"))}function disableScroll(){if(!document.querySelector(".modal.open")&&!menuBtn.classList.contains("active")){let e=window.innerWidth>350?window.innerWidth-document.documentElement.clientWidth+"px":0;document.querySelector(".fixed-block")&&document.querySelectorAll(".fixed-block").forEach((t=>t.style.paddingRight=e)),document.body.style.paddingRight=e,document.body.classList.add("no-scroll")}}function smoothDrop(e,t,r=!1){let o=r||500;if(t.style.overflow="hidden",t.style.transition=`height ${o}ms ease`,t.style["-webkit-transition"]=`height ${o}ms ease`,e.classList.contains("active")){e.parentNode.classList.remove("active");let r=t.clientHeight+"px";t.style.height=r,setTimeout((function(){t.style.height="0",setTimeout((()=>{t.style.height=null,e.classList.remove("active"),t.classList.remove("active")}),o)}),0)}else{e.parentNode.classList.add("active"),t.classList.add("active");let r=t.clientHeight+"px";t.style.height="0px",setTimeout((function(){t.style.height=r,setTimeout((()=>{t.style.height=null,e.classList.add("active")}),o)}),0)}}function updateOptionsVisibility(){document.querySelectorAll("[data-visibility]")&&document.querySelectorAll("[data-visibility]").forEach((e=>{let t=e.getAttribute("data-visibility");document.querySelector(`[data-block='${t}'`)&&document.querySelector(`[data-block='${t}'`).classList.contains("active")?e.classList.add("show"):e.classList.remove("show")}))}function tabSwitch(e,t){e.forEach((r=>{r.addEventListener("click",(()=>{e.forEach((e=>{e.classList.remove("active")})),r.classList.add("active"),t.forEach((e=>{e.dataset.block===r.dataset.tab?e.classList.contains("active")||(e.classList.add("active"),e.style.opacity="0",setTimeout((()=>{e.style.opacity="1"}),0)):e.classList.remove("active")})),updateOptionsVisibility()}))}))}updateOptionsVisibility();const tabsScroll=document.querySelectorAll(".tabs-scroll");function tabsBtnVisibility(e){e.querySelector(".tabs").scrollWidth-e.querySelector(".tabs").clientWidth-e.querySelector(".tabs").scrollLeft>5?e.classList.add("show-btn"):e.classList.remove("show-btn")}tabsScroll.length&&tabsScroll.forEach((e=>{tabsBtnVisibility(e),e.querySelector(".tabs").addEventListener("scroll",(()=>tabsBtnVisibility(e))),window.addEventListener("resize",tabsBtnVisibility(e))}));const customScroll=document.querySelectorAll(".custom-scroll");let isFirefox="undefined"!=typeof InstallTrigger;isFirefox&&(document.documentElement.style.scrollbarWidth="thin",document.documentElement.style.scrollbarColor="#769882 #cfd8d2",customScroll&&customScroll.forEach((e=>{document.documentElement.style.scrollbarWidth="thin",e.style.scrollbarColor="#769882 #cfd8d2"})));let lastScroll=scrollPos();const headerTop=document.querySelector(".header__top");window.addEventListener("scroll",(()=>{scrollPos()>headerTop.clientHeight?(header.classList.add("scroll"),scrollPos()>lastScroll&&!header.classList.contains("unshow")?(header.classList.add("unshow"),headerTranslate=headerTop.clientHeight,header.style.transform="translateY("+(-headerTop.clientHeight-1)+"px)"):scrollPos()<lastScroll&&header.classList.contains("unshow")&&(header.classList.remove("unshow"),headerTranslate=0,header.style.transform="translateY(0)")):(header.classList.remove("scroll","unshow"),headerTranslate=0,header.style.transform="translateY(0)"),lastScroll=scrollPos()}));const anchorLinks=document.querySelectorAll(".js-anchor");anchorLinks.length&&anchorLinks.forEach((e=>{e.addEventListener("click",(t=>{let r=e.getAttribute("href").indexOf("#");const o=e.getAttribute("href").substring(r);let n=document.querySelector(o);if(n){t.preventDefault();let r=n.getBoundingClientRect().top,o=header.clientHeight,i=header.querySelector(".header__body")?.clientHeight||0,l=header.querySelector(".header__center")?.clientHeight||0,s=r-(window.innerWidth>bp.desktop?r<0?o:i:r<0?o:o-l)-10;if(e.hasAttribute("data-tab")){let t=e.getAttribute("data-tab");n.querySelector(`[data-tab='${t}']`)&&n.querySelector(`[data-tab='${t}']`).click()}menuBtn&&menuBtn.classList.contains("active")?(menuBtn.click(),setTimeout((()=>{window.scrollTo({top:scrollPos()+s,behavior:"smooth"})}),300)):window.scrollTo({top:scrollPos()+s,behavior:"smooth"})}}))}));const switchBlock=document.querySelectorAll(".switch-block");function showCookie(){cookiePopup&&cookiePopup.classList.add("show")}function unshowCookie(){cookiePopup&&cookiePopup.classList.remove("show")}function openModal(e){let t=document.querySelector(".modal.open");disableScroll(),!t||t.classList.contains("quickView-modal")||t.contains(e)||t.classList.remove("open"),e.classList.add("open")}function closeModal(e){e.querySelector("video")&&e.querySelectorAll("video").forEach((e=>e.pause())),e.closest(".dropdown")&&e.closest(".dropdown").classList.remove("open"),e.classList.contains("address-modal")&&e.classList.remove("edit"),e.classList.remove("open"),setTimeout((()=>{enableScroll()}),animSpd)}function modalShowBtns(){const e=document.querySelectorAll(".mod-open-btn");e.length&&e.forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();let r=e.getAttribute("data-modal");openModal(document.getElementById(r))}))}))}function modalUnshowBtns(){const e=document.querySelectorAll(".mod-close-btn");e.length&&e.forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();let r=e.getAttribute("data-modal");closeModal(document.getElementById(r))}))}))}switchBlock&&switchBlock.forEach((e=>{tabSwitch(e.querySelectorAll("[data-tab]"),e.querySelectorAll("[data-block]"))})),modal&&modal.forEach((e=>{e.addEventListener("click",(t=>{e.querySelector(".modal__content").contains(t.target)||closeModal(e)})),e.querySelectorAll(".modal__close").forEach((e=>{e.addEventListener("click",(()=>{closeModal(e.closest(".modal"))}))}))})),modalShowBtns(),modalUnshowBtns();const modalMob=document.querySelectorAll(".modal--mob");function fancyModal(e){let t=[],r=e.hasAttribute("data-fit")?"media-contain":"media-cover",o=e.getAttribute("data-fancy"),n=e.hasAttribute("data-thumb");document.querySelectorAll("[data-fancy]").forEach((e=>{if(!e.closest(".swiper-slide-duplicate")&&e.getAttribute("data-fancy")===o){let r={src:e.getAttribute("data-src"),type:e.getAttribute("data-type")||"image"};"video"===e.getAttribute("data-type")&&e.getAttribute("data-poster")&&(r.poster=e.getAttribute("data-poster")),t.push(r)}}));let i=t.findIndex((t=>t.src===e.getAttribute("data-src")));document.querySelector(".footer").insertAdjacentHTML("afterend",`\n                <div class="custom-scroll modal fancy-modal ${o+"-modal"}">\n                    <div class="fancy-modal__content">\n                        <button type="button" class="btn-cross modal__close"></button>\n                        <div class="fancy-modal__mainswiper">\n                            <div class="swiper">\n                                <div class="swiper-wrapper">\n                                    ${t.map(((e,t)=>`<div class="swiper-slide">\n                                        <div class="${r}">\n                                            ${"video"===e.type?`<video ${t===i?`src='${e.src}'`:`data-src='${e.src}'`} ${e.poster?`poster='${e.poster}'`:""} loop autoplay playsinline mute controls></video>`:`<img src=${e.src} alt="">`}                                                \n                                        </div>\n                                    </div>`)).join("")}\n                                </div>\n                            </div>\n                        </div>\n                        ${n&&t.length>1?`<div class="fancy-modal__thumbswiper">\n                            <div class="swiper">\n                                <div class="swiper-wrapper">\n                                    ${t.map((e=>`<div class="swiper-slide">\n                                        <div class="${r} ${"video"===e.type?"video":""}">\n                                            ${"video"===e.type?`<img ${e.poster?`src='${e.poster}'`:""}>`:`<img src=${e.src} alt="">`}                                                \n                                        </div>\n                                    </div>`)).join("")}\n                                </div>\n                            </div>\n                            <div class="swiper-nav">\n                                <button type="button" class="nav-btn nav-btn--prev">${sprite("btn-prev")}</button>\n                                <button type="button" class="nav-btn nav-btn--next">${sprite("btn-next")}</button>\n                            </div>\n                        </div>`:""}\n                    </div>\n                </div>\n            `);const l=document.querySelector(".fancy-modal");let s;n&&t.length>1&&(s=new Swiper(l.querySelector(".fancy-modal__thumbswiper .swiper"),{slidesPerView:3,spaceBetween:12,observer:!0,observeParents:!0,watchSlidesProgress:!0,initialSlide:i,navigation:{prevEl:l.querySelector(".nav-btn--prev"),nextEl:l.querySelector(".nav-btn--next")},breakpoints:{575.98:{slidesPerView:4}},speed:800}));let a=new Swiper(l.querySelector(".fancy-modal__mainswiper .swiper"),{slidesPerView:1,observer:!0,observeParents:!0,initialSlide:i,effect:"fade",fadeEffect:{crossFade:!0},thumbs:{swiper:s||null},speed:300});a.on("slideChange",(e=>{l.querySelector("video")&&l.querySelectorAll("video").forEach((e=>e.pause()));let t=a.slides[a.activeIndex].querySelector("[data-src]"),r=a.slides[a.activeIndex].querySelector("video");t?(t.setAttribute("src",t.getAttribute("data-src")),t.removeAttribute("data-src")):!t&&r&&r.play()})),openModal(l),l.querySelectorAll(".modal__close").forEach((e=>{e.addEventListener("click",(e=>{closeModal(l),setTimeout((()=>{l.remove()}),animSpd)}))}))}modalMob.length&&window.addEventListener("resize",(()=>{window.innerWidth>bp.laptop&&modalMob.forEach((e=>closeModal(e)))}));const fancyBlock=document.querySelectorAll(".fancy-block");function openDropdown(e){window.innerWidth<=bp.laptop&&disableScroll(),e.classList.add("open"),e.querySelector(".modal")&&e.querySelector(".modal").classList.add("open"),e.setAttribute("aria-expanded",!0),e.querySelectorAll(".dropdown__options input").forEach((t=>{t.addEventListener("change",(t=>{setActiveOption(e)}))})),document.addEventListener("click",(function t(r){e.contains(r.target)||(closeDropdown(e),document.removeEventListener("click",t))}))}function setActiveOption(e){if(e.querySelector(".dropdown__header").classList.add("checked"),e.classList.contains("radio-select")){let t=e.querySelector("input:checked").nextElementSibling.innerHTML;e.querySelector(".dropdown__header span").innerHTML=t,closeDropdown(e)}}function closeDropdown(e){e.querySelector(".modal")&&e.querySelector(".modal").classList.remove("open"),e.classList.remove("open"),e.setAttribute("aria-expanded",!1),enableScroll()}function showSuccessPopup(e=!1,t=!1){successPopup&&(e||t)&&(successPopup.querySelector(".h6").textContent=e||"",successPopup.querySelector("p").textContent=t||"",successPopup.classList.add("show"),setTimeout((()=>{successPopup.classList.remove("show")}),3e3))}function setSuccessTxt(e=!1,t=!1,r=!1){successModal.querySelector("h3").innerHTML=e||"Заявка успешно отправлена",successModal.querySelector(".stroke-btn").innerHTML=r||"Закрыть",t&&(successModal.querySelector("p").innerHTML=t)}function setErrorTxt(e=!1,t=!1,r=!1){errorModal.querySelector("h3").innerHTML=e||"Что-то пошло не так",errorModal.querySelector(".stroke-btn").innerHTML=r||"Закрыть",t&&(errorModal.querySelector("p").innerHTML=t)}function openSuccessMod(e=!1,t=!1,r=!1){setSuccessTxt(e,t,r),openModal(successModal)}function openErrorMod(e=!1,t=!1,r=!1){setErrorTxt(e,t,r),openModal(errorModal)}function formReset(e){e.querySelectorAll(".item-form").length>0&&e.querySelectorAll(".item-form").forEach((e=>e.classList.remove("error"))),e.querySelectorAll(".item-form__reset").length>0&&e.querySelectorAll(".item-form__reset").forEach((e=>e.classList.remove("show"))),e.querySelectorAll("[data-error]").length>0&&e.querySelectorAll("[data-error]").forEach((e=>e.textContent="")),e.querySelectorAll("input").forEach((e=>{["hidden","checkbox","radio"].includes(e.type)||(e.value=""),["checkbox","radio"].includes(e.type)&&!e.classList.contains("required")&&(e.checked=!1)})),e.querySelector("textarea")&&(e.querySelector("textarea").value=""),e.querySelector(".file-form__items")&&(e.querySelector(".file-form__items").innerHTML="")}fancyBlock.length&&fancyBlock.forEach((e=>{e.addEventListener("click",(t=>{const r=e.querySelectorAll("[data-fancy]");r.length&&r.forEach((e=>{e.contains(t.target)&&fancyModal(e)}))}))})),dropdown&&dropdown.forEach((e=>{e.querySelector(".dropdown__header").addEventListener("click",(()=>{e.classList.contains("open")?closeDropdown(e):openDropdown(e)})),e.querySelector(".dropdown__close")&&e.querySelector(".dropdown__close").addEventListener("click",(()=>closeDropdown(e)))}));const searchForm=document.querySelectorAll(".search-form");function showSearchBtns(e){e.querySelector("input").value.length>0?(e.querySelector(".search-form__submit").classList.add("show"),e.querySelector(".search-form__reset").classList.add("show")):(e.querySelector(".search-form__submit").classList.remove("show"),e.querySelector(".search-form__reset").classList.remove("show"))}searchForm&&searchForm.forEach((e=>{showSearchBtns(e),e.querySelector("input").addEventListener("input",(()=>showSearchBtns(e))),e.querySelector("input").addEventListener("focus",(()=>e.classList.add("focused"))),e.querySelector("input").addEventListener("blur",(()=>e.classList.remove("focused"))),e.addEventListener("reset",(()=>{e.querySelector("input").setAttribute("value",""),e.classList.remove("show-results"),showSearchBtns(e)}))}));const itemFormPass=document.querySelectorAll(".item-form--password");function showResetBtn(e,t){e.querySelector("input").value.length>0?t.classList.add("show"):t.classList.remove("show")}itemFormPass&&itemFormPass.forEach((e=>{e.querySelector(".item-form__eye").addEventListener("click",(()=>{e.classList.toggle("show-password"),e.classList.contains("show-password")?e.querySelector("input").type="text":e.querySelector("input").type="password"}))}));const itemForm=document.querySelectorAll(".item-form");itemForm&&itemForm.forEach((e=>{const t=e.querySelector(".item-form__reset");t&&(showResetBtn(e,t),e.querySelector("input").addEventListener("input",(r=>{showResetBtn(e,t)})),t.addEventListener("click",(r=>{r.preventDefault(),e.querySelector("input").value="",t.classList.remove("show")})))}));const disabledForm=document.querySelectorAll(".disabled-form");function toggleSubmitBtn(e){let t=Array.from(e.querySelectorAll("input.required")).find((e=>{if(e.value&&"tel"===e.type&&!isPhone(e.value)||!e.value||["checkbox","radio"].includes(e.type)&&!e.checked)return e}));t?e.querySelector("button[type=submit]").setAttribute("disabled",!0):e.querySelector("button[type=submit]").removeAttribute("disabled")}function recoveryPassword(e,t=!1,r=!1){e&&document.querySelector("[data-recovery-email]")&&(document.querySelector("[data-recovery-email]").textContent=e),openSuccessMod(t,r)}let codeResTimeout;function resetPassword(e,t){clearTimeout(codeResTimeout),document.querySelector(".resend-pass__btn").setAttribute("disabled",!0);let r=t||30;document.querySelector(".resend-pass__timeout").classList.remove("hidden"),e&&document.querySelector("[data-log-phone]")&&(document.querySelector("[data-log-phone]").textContent=e),function e(){r>0?(document.querySelector(".resend-pass__sec").textContent=r,codeResTimeout=setTimeout(e,1e3)):(clearTimeout(codeResTimeout),document.querySelector(".resend-pass__timeout").classList.add("hidden"),document.querySelector(".resend-pass__btn").removeAttribute("disabled")),r--}()}disabledForm.length>0&&disabledForm.forEach((e=>{if(e.querySelectorAll("input.required").length>0){let t;toggleSubmitBtn(e),e.querySelectorAll("input.required").forEach((r=>{["text","tel"].includes(r.type)?r.addEventListener("input",(()=>{clearTimeout(t),t=setTimeout((()=>{toggleSubmitBtn(e)}),300)})):r.addEventListener("change",(()=>{toggleSubmitBtn(e)}))}))}}));const inp=document.querySelectorAll("input[type=tel]");inp&&inp.forEach((e=>{Inputmask({mask:"+7 999 999-99-99"}).mask(e)}));let allFileTypes=[{extension:".png",mimeType:"image/png"},{extension:[".jpg",".jpeg"],mimeType:"image/jpeg"},{extension:".gif",mimeType:"image/gif"},{extension:".bmp",mimeType:"image/bmp"},{extension:".txt",mimeType:"text/plain"},{extension:".rtf",mimeType:"application/rtf"},{extension:[".ppt",".pot",".pps",".ppa"],mimeType:"application/vnd.ms-powerpoint"},{extension:".pptx",mimeType:"application/vnd.openxmlformats-officedocument.presentationml.presentation"},{extension:".odp",mimeType:"application/vnd.oasis.opendocument.presentation"},{extension:".ods",mimeType:"application/vnd.oasis.opendocument.spreadsheet"},{extension:".doc",mimeType:"application/msword"},{extension:".docx",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"},{extension:".pdf",mimeType:"application/pdf"},{extension:[".xls",".xlt",".xla",".xlsb",".xlsm",".xltx",".xltm"],mimeType:"application/vnd.ms-excel"},{extension:".xlsx",mimeType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},{extension:".odt",mimeType:"application/vnd.oasis.opendocument.text"}];function addFile(e,t){let r=t.querySelector("input").getAttribute("data-max-size"),o=t.querySelector("input").getAttribute("accept"),n=[];if(o){let e=o.split(",").map((e=>e.trim().toLowerCase())).filter((e=>""!==e));allFileTypes.forEach((t=>{if(Array.isArray(t.extension)){for(const r of t.extension)if(e.includes(r)){n.push(t.mimeType);break}}else"string"==typeof t.extension&&e.includes(t.extension)&&n.push(t.mimeType)})),o=e.map((e=>e.replace(/^\./,""))).join(", ")}for(let i=0;i<e.length;i++){let l=e[i];if(r&&l.size>1024*r*1024)return t.querySelector("input").value="",t.classList.add("error"),t.querySelectorAll(".file-form__item").forEach((e=>e.remove())),void(t.querySelector("[data-error]").textContent=`Файл должен быть менее ${r} МБ`);if(o&&n.length&&!n.includes(l.type))return t.querySelector("input").value="",t.classList.add("error"),t.querySelectorAll(".file-form__item").forEach((e=>e.remove())),void(t.querySelector("[data-error]").textContent="Загрузите картинку в одном из указанных форматов");{t.classList.remove("error"),t.querySelector("[data-error]").textContent="";let e=new FileReader;e.readAsDataURL(l),e.onload=()=>{t.querySelector(".file-form__items").insertAdjacentHTML("afterbegin",`<div class="file-form__item">\n                        <div class="file-form__name">${l.name}</div>\n                        <div class="file-form__name">${Math.ceil(l.size/1024/1024*100)/100} Mb</div>\n                        <button type="button" class="btn-cross file-form__del"></button>\n                    </div>`)},e.onerror=()=>{console.log(e.error)}}}}function disabledMinusBtn(e,t){t<=1?e.querySelector(".js-minus").classList.add("disabled"):e.querySelector(".js-minus").classList.remove("disabled")}function disabledPlusBtn(e,t,r){t>=r?e.querySelector(".js-plus").classList.add("disabled"):e.querySelector(".js-plus").classList.remove("disabled")}function quantityOnChange(e,t,r){let o=e.closest(".js-prodBlock"),n=["tile","list"].includes(o.parentNode.getAttribute("data-catalog-view"));if(disabledMinusBtn(e,t),r&&disabledPlusBtn(e,t,r),o.classList.contains("js-prodBlock--product")&&document.querySelectorAll(".js-prodBlock--product").forEach((e=>{e.querySelectorAll(".quantity").forEach((e=>{disabledMinusBtn(e,t),r&&disabledPlusBtn(e,t,r),e.querySelector(".quantity__count").value=t}))})),!o.classList.contains("js-prodBlock--product")&&!n||o.classList.contains("js-prodBlock--product")&&o.classList.contains("in-cart")||n&&o.classList.contains("in-cart")){addToCart(o.dataset.id,t)}}function setQuantity(){const e=document.querySelectorAll(".quantity");e.length&&e.forEach((e=>{const t=e.querySelector(".quantity__count");let r=Number(e.getAttribute("data-stock")),o=t.value;disabledMinusBtn(e,o),r&&disabledPlusBtn(e,o,r)}))}document.querySelector(".file-form")&&document.querySelectorAll(".file-form").forEach((e=>{e.querySelector("input").addEventListener("change",(t=>{e.querySelectorAll(".file-form__item").forEach((e=>e.remove())),addFile(t.target.files,e)})),e.addEventListener("click",(t=>{e.querySelectorAll(".file-form__del").forEach(((r,o)=>{if(r.contains(t.target)){const t=new DataTransfer,n=e.querySelector("input"),{files:i}=n;for(let e=0;e<i.length;e++){let r=i[e];e!==o&&t.items.add(r)}n.files=t.files,setTimeout((()=>{r.parentNode.remove()}),0)}}))})),e.addEventListener("dragenter",(e=>{e.preventDefault()})),e.addEventListener("dragover",(e=>{e.preventDefault()})),e.addEventListener("dragleave",(e=>{e.preventDefault()})),e.addEventListener("drop",(function(t){t.preventDefault();const r=new DataTransfer;r.items.add(t.dataTransfer.files[0]);let o=Array.from(r.files);e.querySelector("input").files=r.files,e.querySelectorAll(".file-form__item").forEach((e=>e.remove())),addFile(o,e)}))})),setQuantity();const jsProdWrapper=document.querySelectorAll(".js-prodWrapper"),quickViewMod=document.querySelector("#quickView-modal");if(jsProdWrapper.length){const e=quickViewMod.querySelector(".quickView-modal__inner"),t=quickViewMod.querySelector(".quickView-modal__link");jsProdWrapper.forEach((r=>{r.addEventListener("click",(async r=>{if(r.target.closest(".quantity")){let e=r.target.closest(".quantity");const t=e.querySelector(".quantity__count");let o=Number(e.getAttribute("data-stock")),n=t.value;if(e.querySelector(".js-minus").contains(r.target))if(t.value>1)t.value--,n=t.value,quantityOnChange(e,n,o);else{let e=r.target.closest(".js-prodBlock");removeFromCart(e.dataset.id,(()=>{e.classList.remove("in-cart"),e.classList.contains("js-prodBlock--product")&&document.querySelectorAll(".js-prodBlock--product").forEach((e=>e.classList.remove("in-cart")))}))}e.querySelector(".js-plus").contains(r.target)&&(t.value++,n=t.value,quantityOnChange(e,n,o))}if(r.target.classList.contains("js-add-to-cart")){let e=r.target.closest(".js-prodBlock");addToCart(e.dataset.id,e.querySelector(".quantity input").value||1,(()=>{document.querySelector(".cart-popup")&&(document.querySelector(".cart-popup").classList.add("show"),lblTimeout=setTimeout((()=>{document.querySelector(".cart-popup").classList.remove("show")}),1500)),e.classList.add("in-cart"),e.classList.contains("js-prodBlock--product")&&document.querySelectorAll(".js-prodBlock--product").forEach((e=>e.classList.add("in-cart")))}))}if(r.target.classList.contains("js-fav")){let e=r.target,t=e.closest(".js-prodBlock").getAttribute("data-id");e.classList.contains("active")?removeFromFav(t,(()=>{e.classList.remove("active"),e.setAttribute("aria-label","Добавить в избранное")})):addToFav(t,(()=>{e.classList.add("active"),e.setAttribute("aria-label","Удалить из избранного")}))}if(r.target.classList.contains("product-remove")){let e=r.target.closest(".js-prodBlock").getAttribute("data-id");const t=document.getElementById("cart-removal-modal");t&&(t.querySelector(".js-remove-from-cart").setAttribute("data-id",e),openModal(document.querySelector("#cart-removal-modal")))}if(r.target.classList.contains("product-view")||r.target.classList.contains("card__quick-view")){let o=r.target.closest(".js-prodBlock")?.getAttribute("data-link");o&&quickViewMod&&(t&&t.setAttribute("href",o),quickViewMod.classList.add("loading"),openModal(quickViewMod),setQuickView((()=>{initProductSwiper(e),quickViewMod.classList.remove("loading"),modalShowBtns()})))}})),r.addEventListener("change",(e=>{if(e.target.closest(".quantity")){let t=e.target.closest(".quantity");const r=t.querySelector(".quantity__count");let o=Number(t.getAttribute("data-stock")),n=r.value;t.querySelector(".quantity__count").contains(e.target)&&(Number.isInteger(e.target.value)||e.target.value>=1?0==e.target.value.split("")[0]?r.value=Math.round(e.target.value.substring(1)):r.value=o&&Math.round(e.target.value)>o?o:Math.round(e.target.value):r.value=1,n=r.value,quantityOnChange(t,n,o))}}))}))}const tippy=document.querySelectorAll(".tippy"),tippyContent=document.querySelector(".tippy-content");if(tippy.length>0){let r;function move(e){let t=e.getBoundingClientRect().top,r=e.getBoundingClientRect().left;tippyContent.style.top=t+e.clientHeight+10+"px",r-tippyContent.clientWidth/2+e.clientWidth/2<0?(tippyContent.style.left="15px",tippyContent.style.right="auto"):r+tippyContent.clientWidth/2+e.clientWidth/2>=window.innerWidth?(tippyContent.style.left="auto",tippyContent.style.right="15px"):(tippyContent.style.left=r-tippyContent.clientWidth/2+e.clientWidth/2+"px",tippyContent.style.right="auto")}function leave(){window.innerWidth>bp.laptop&&(tippyContent.classList.remove("open"),r=setTimeout((()=>{tippyContent.querySelector(".tippy-content__inner").textContent=""}),300))}tippy.forEach((e=>{e.addEventListener("mouseenter",(()=>{clearTimeout(r),window.innerWidth>bp.laptop&&(tippyContent.querySelector(".tippy-content__inner").textContent=e.querySelector("p").textContent,tippyContent.classList.add("open"),move(e))})),e.addEventListener("mouseleave",leave),e.addEventListener("click",(()=>{window.innerWidth<bp.laptop&&(tippyContent.querySelector(".tippy-content__inner").textContent=e.querySelector("p").textContent,openModal(tippyContent))}))})),window.addEventListener("resize",leave),window.addEventListener("scroll",leave)}function allCheckBtn(e,t){e.addEventListener("change",(()=>{t.forEach((t=>{e.checked?(t.checked=!0,t.setAttribute("checked",!0)):(t.checked=!1,t.removeAttribute("checked"))})),e.classList.contains("cart-p__inStock-allChek")&&cartSubmitBtn(t)})),t.forEach((r=>{r.addEventListener("change",(()=>{Array.from(t).every((e=>e.checked))?(e.checked=!0,e.setAttribute("checked",!0)):(e.checked=!1,e.removeAttribute("checked")),r.closest(".item-cart--inStock")&&cartSubmitBtn(t)}))}))}const accordion=document.querySelectorAll(".accordion");accordion&&accordion.forEach((e=>{e.querySelector(".accordion__header").addEventListener("click",(()=>{e.classList.contains("no-close")||e.parentNode.parentNode.querySelectorAll(".accordion").forEach((t=>{t.querySelector(".accordion__header").classList.contains("active")&&(smoothDrop(t.querySelector(".accordion__header"),t.querySelector(".accordion__body")),t.getBoundingClientRect().top<0&&(window.innerWidth<bp.desktop&&header.classList.remove("unshow"),setTimeout((()=>{let r=scrollPos()+e.getBoundingClientRect().top-t.querySelector(".accordion__body").clientHeight-header.clientHeight-10;window.scrollTo(0,r)}),300)))})),smoothDrop(e.querySelector(".accordion__header"),e.querySelector(".accordion__body"))}))}));const readMore=document.querySelectorAll(".read-more");function readMoreFunc(){readMore.length&&readMore.forEach((e=>{let t=e.querySelector(".read-more__btn").getAttribute("data-open"),r=e.querySelector(".read-more__btn").getAttribute("data-close");function o(){e.classList.remove("active"),e.classList.add("more-hidden");let r=e.querySelector(".read-more__content").clientHeight;e.classList.remove("more-hidden");let o=e.querySelector(".read-more__content").clientHeight;e.classList.add("more-hidden"),o>r?(e.classList.add("btn-show"),e.querySelector(".read-more__btn span").textContent=t):e.classList.remove("btn-show")}o();let n=window.innerWidth;window.addEventListener("resize",(()=>{n!=window.innerWidth&&(o(),n=window.innerWidth)})),e.querySelector(".read-more__btn").addEventListener("click",(()=>{if(e.classList.contains("active")){e.classList.remove("active");let r=e.querySelector(".read-more__content").clientHeight+"px";e.classList.add("more-hidden");let o=e.querySelector(".read-more__content").clientHeight+"px";e.classList.remove("more-hidden"),e.querySelector(".read-more__content").style.height=r,setTimeout((function(){e.querySelector(".read-more__content").style.height=o,e.querySelector(".read-more__btn span").textContent=t,setTimeout((()=>{e.classList.add("more-hidden"),e.querySelector(".read-more__content").style.height=null}),500)}),0)}else{e.classList.add("active");let t=e.querySelector(".read-more__content").clientHeight+"px";e.classList.remove("more-hidden");let o=e.querySelector(".read-more__content").clientHeight+"px";e.querySelector(".read-more__content").style.height=t,setTimeout((function(){e.querySelector(".read-more__content").style.height=o,e.querySelector(".read-more__btn span").textContent=r,setTimeout((()=>{e.querySelector(".read-more__content").style.height=null}),500)}),0)}}))}))}window.addEventListener("DOMContentLoaded",readMoreFunc);const shareList=document.querySelectorAll(".share-list [data-share]");if(shareList){const o=encodeURIComponent(window.location.href),n=encodeURIComponent(document.title);let i=[{value:"vk",href:"https://vk.com/share.php?url="+o+"&title="+n},{value:"telegram",href:"https://t.me/share/url?url="+o+"&text="+n},{value:"viber",href:"viber://forward?text="+o},{value:"odnoklassniki",href:"https://connect.ok.ru/offer?url="+o+"&title="+n}];shareList.forEach((e=>{let t=e.getAttribute("data-share");i.forEach((r=>{r.value===t&&e.setAttribute("href",r.href)}))}))}const jsPageUp=document.querySelector(".js-pageUp");jsPageUp&&jsPageUp.addEventListener("click",(()=>window.scrollTo(0,0)));const animItem=document.querySelectorAll("[data-animation]");function animate(){animItem.forEach((e=>{let t=e.getAttribute("data-animation");if(!e.classList.contains(t)){let r=e.getBoundingClientRect().top+scrollPos(),o=Math.abs(window.innerHeight-.1*window.innerHeight);scrollPos()>r-o&&e.classList.add(t)}}))}window.addEventListener("load",(()=>{animItem.length>0&&(animate(),window.addEventListener("scroll",animate))}));const swiper6=document.querySelectorAll(".swiper6");swiper6.length&&swiper6.forEach((e=>{new Swiper(e.querySelector(".swiper"),{slidesPerView:3,spaceBetween:12,observer:!0,observeParents:!0,watchSlidesProgress:!0,breakpoints:{1700.98:{slidesPerView:6,spaceBetween:20},1250.98:{slidesPerView:6,spaceBetween:16},700.98:{slidesPerView:4,spaceBetween:16}},scrollbar:{el:e.querySelector(".swiper-scrollbar"),draggable:!0},speed:800})}));const swiper5=document.querySelectorAll(".swiper5");swiper5.length&&swiper5.forEach((e=>{new Swiper(e.querySelector(".swiper"),{slidesPerView:2,spaceBetween:12,observer:!0,observeParents:!0,watchSlidesProgress:!0,breakpoints:{1700.98:{slidesPerView:5,spaceBetween:20},1250.98:{slidesPerView:5,spaceBetween:16},1030.98:{slidesPerView:4,spaceBetween:16},700.98:{slidesPerView:3,spaceBetween:16}},scrollbar:{el:e.querySelector(".swiper-scrollbar"),draggable:!0},speed:800})}));const swiper4=document.querySelectorAll(".swiper4");swiper4.length&&swiper4.forEach((e=>{new Swiper(e.querySelector(".swiper"),{slidesPerView:2,spaceBetween:12,observer:!0,observeParents:!0,watchSlidesProgress:!0,breakpoints:{1700.98:{slidesPerView:4,spaceBetween:20},1250.98:{slidesPerView:4,spaceBetween:16},700.98:{slidesPerView:3,spaceBetween:16}},scrollbar:{el:e.querySelector(".swiper-scrollbar"),draggable:!0},speed:800})}));const swiper3=document.querySelectorAll(".swiper3");if(swiper3.length&&swiper3.forEach((e=>{new Swiper(e.querySelector(".swiper"),{slidesPerView:1,spaceBetween:12,observer:!0,observeParents:!0,watchSlidesProgress:!0,scrollbar:{el:e.querySelector(".swiper-scrollbar"),draggable:!0},breakpoints:{1700.98:{slidesPerView:3,spaceBetween:20},1030.98:{slidesPerView:3,spaceBetween:16},700.98:{slidesPerView:2.16,spaceBetween:16}},speed:800})})),document.querySelector(".intro .swiper")){new Swiper(document.querySelector(".intro .swiper"),{slidesPerView:1,spaceBetween:16,loop:document.querySelectorAll(".intro .swiper-slide").length>1,observer:!0,observeParents:!0,watchSlidesProgress:!0,pagination:{el:document.querySelector(".intro .swiper-pagination"),type:"bullets",clickable:!0},navigation:{prevEl:document.querySelector(".intro .nav-btn--prev"),nextEl:document.querySelector(".intro .nav-btn--next")},autoplay:{delay:5e3,pauseOnMouseEnter:!0,disableOnInteraction:!1},speed:1e3})}if(document.querySelector(".main-idea .swiper")){new Swiper(document.querySelector(".main-idea .swiper"),{slidesPerView:1.52,spaceBetween:12,observer:!0,observeParents:!0,watchSlidesProgress:!0,breakpoints:{1700.98:{slidesPerView:5,spaceBetween:20},1250.98:{slidesPerView:5,spaceBetween:16},1030.98:{slidesPerView:4,spaceBetween:16},700.98:{slidesPerView:3,spaceBetween:16},575.98:{slidesPerView:2,spaceBetween:12}},speed:800})}if(document.querySelector(".main-about .swiper")){let l,s;function initAboutSwiper(){window.innerWidth<=bp.desktop&&!s?(s=!0,l=new Swiper(document.querySelector(".main-about .swiper"),{slidesPerView:1.52,spaceBetween:12,observer:!0,observeParents:!0,watchSlidesProgress:!0,breakpoints:{1030.98:{slidesPerView:3,spaceBetween:16},700.98:{slidesPerView:2,spaceBetween:16},575.98:{slidesPerView:2,spaceBetween:12}},speed:800})):window.innerWidth>bp.desktop&&s&&(s=!1,l.destroy())}initAboutSwiper(),window.addEventListener("resize",initAboutSwiper)}if(document.querySelector(".main-info .swiper")){let a,c;function initAboutSwiper(){window.innerWidth>=bp.phone&&!c?(c=!0,a=new Swiper(document.querySelector(".main-info .swiper"),{slidesPerView:2,spaceBetween:12,observer:!0,observeParents:!0,watchSlidesProgress:!0,breakpoints:{1700.98:{slidesPerView:3,spaceBetween:20},1030.98:{slidesPerView:3,spaceBetween:16},700.98:{slidesPerView:2,spaceBetween:16}},speed:800})):window.innerWidth<bp.phone&&c&&(c=!1,a.destroy())}initAboutSwiper(),window.addEventListener("resize",initAboutSwiper)}const reviewsSwiper=document.querySelector(".reviews .swiper");if(reviewsSwiper){new Swiper(reviewsSwiper,{slidesPerView:1,spaceBetween:12,observer:!0,observeParents:!0,watchSlidesProgress:!0,breakpoints:{1700.98:{slidesPerView:reviewsSwiper.parentNode.classList.contains("reviews--product")?2.22:3,spaceBetween:20},1030.98:{slidesPerView:reviewsSwiper.parentNode.classList.contains("reviews--product")?2:2.18,spaceBetween:16},700.98:{slidesPerView:1.6,spaceBetween:16},575.98:{slidesPerView:1.3,spaceBetween:12}},scrollbar:{el:document.querySelector(".reviews .swiper-scrollbar"),draggable:!0},speed:800})}if(document.querySelector(".main-advants .swiper")){let d,u;function initAboutSwiper(){window.innerWidth<=bp.tablet&&!u?(u=!0,d=new Swiper(document.querySelector(".main-advants .swiper"),{slidesPerView:1.52,spaceBetween:12,observer:!0,observeParents:!0,watchSlidesProgress:!0,speed:800})):window.innerWidth>bp.tablet&&u&&(u=!1,d.destroy())}initAboutSwiper(),window.addEventListener("resize",initAboutSwiper)}if(document.querySelector(".legal-entity-cards .swiper")){let p,m;function initLegalSwiper(){window.innerWidth<=bp.tablet&&!m?(m=!0,p=new Swiper(document.querySelector(".legal-entity-cards .swiper"),{slidesPerView:2,spaceBetween:12,observer:!0,observeParents:!0,watchSlidesProgress:!0,speed:800,scrollbar:{el:document.querySelector(".legal-entity-cards .swiper-scrollbar"),draggable:!0}})):window.innerWidth>bp.tablet&&m&&(m=!1,p.destroy())}initLegalSwiper(),window.addEventListener("resize",initLegalSwiper)}const mainMenu=document.querySelector(".main-menu"),mainMenuNav=mainMenu.querySelectorAll(".link-btn"),mainMenuBackNav=mainMenu.querySelectorAll("[data-back-to-level]");function showMainMenu(){menuBtn.classList.contains("active")||(disableScroll(),header.classList.add("show-menu"),mainMenu.style.top=menuBtn.getBoundingClientRect().bottom+headerTranslate+"px",mainMenu.style.maxHeight=window.innerHeight-menuBtn.getBoundingClientRect().bottom-headerTranslate+"px",menuBtn.setAttribute("aria-expanded",!0),menuBtn.classList.add("active"),mainMenu.classList.add("show"),window.innerWidth>bp.laptop&&mainMenu.querySelector("[data-level='2']")&&mainMenu.querySelectorAll("[data-level='2']")[0].parentNode.children[0].classList.add("active"))}function unshowMainMenu(){header.classList.remove("show-menu"),menuBtn.setAttribute("aria-expanded",!1),menuBtn.classList.remove("active"),mainMenu.classList.remove("show"),mainMenu.querySelectorAll("[data-level]").forEach((e=>{e.classList.remove("active")})),enableScroll()}if(menuBtn&&mainMenu){function navMenuOnOpen(e){e.classList.contains("active")||(Array.from(e.parentNode.children).forEach((e=>e.classList.remove("active"))),e.classList.contains("has-icon")&&e.classList.add("active"))}[menuBtn,mainMenu].forEach((e=>{e.addEventListener("mouseenter",(()=>{window.innerWidth>bp.desktop&&showMainMenu()})),e.addEventListener("mouseleave",(()=>{window.innerWidth>bp.desktop&&unshowMainMenu()}))})),menuBtn.addEventListener("click",(e=>{window.innerWidth<=bp.desktop&&(e.preventDefault(),menuBtn.classList.contains("active")?unshowMainMenu():showMainMenu())})),mainMenuNav.length&&mainMenuNav.forEach((e=>{e.addEventListener("mouseenter",(()=>{window.innerWidth>bp.desktop&&navMenuOnOpen(e)})),e.classList.contains("has-icon")&&e.querySelector(".main-menu__header")&&e.querySelector(".main-menu__header").addEventListener("click",(t=>{window.innerWidth<=bp.desktop&&(t.preventDefault(),navMenuOnOpen(e))}))})),mainMenuBackNav.length&&mainMenuBackNav.forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();let r=e.getAttribute("data-back-to-level");mainMenu.querySelector(`[data-level='${r}']`)&&mainMenu.querySelectorAll(`[data-level='${r}']`).forEach((e=>e.classList.remove("active")))}))})),window.addEventListener("resize",(()=>{window.innerWidth>bp.laptop&&unshowMainMenu()}))}const headerCartBtn=document.querySelector(".header__cart"),cartPopup=document.querySelector(".cart-popup");if(headerCartBtn&&cartPopup){let y;[headerCartBtn,cartPopup].forEach((e=>{e.addEventListener("mouseenter",(()=>{clearTimeout(y),cartPopup.classList.add("show")})),e.addEventListener("mouseleave",(()=>{clearTimeout(y),y=setTimeout((()=>{cartPopup.classList.remove("show")}),300)}))}))}const catFilter=document.querySelector(".cat-filter"),filterSelected=document.querySelector(".filter-selected__items"),filterCount=document.querySelectorAll(".filter-count");let catFilterObj;function initRangeSliders(){catFilter.querySelectorAll(".range-filter").forEach((e=>{let t=e.querySelector(".range-filter__start"),r=e.querySelector(".range-filter__end"),o=e.querySelector(".range-filter__slider"),n=+e.getAttribute("data-start"),i=+e.getAttribute("data-end"),l=+e.getAttribute("data-min"),s=+e.getAttribute("data-max");noUiSlider.create(o,{start:[n,i],connect:!0,range:{min:l,max:s}}),t.addEventListener("change",(()=>{o.noUiSlider.set([t.value,null]),e.classList.contains("updated")||e.classList.add("updated")})),r.addEventListener("change",(()=>{o.noUiSlider.set([null,r.value]),e.classList.contains("updated")||e.classList.add("updated")}));let a=[t,r];o.noUiSlider.on("slide",(function(t,r){a[r].value=parseInt(t[r]),e.classList.contains("updated")||e.classList.add("updated")}))}))}function setRangeSelected(){catFilter.querySelector(".range-filter")&&catFilter.querySelectorAll(".range-filter").forEach((e=>{if(e.classList.contains("updated")){let t=e.getAttribute("data-id"),r=e.getAttribute("data-name"),o=e.querySelector(".range-filter__slider").noUiSlider.get();filterSelected.insertAdjacentHTML("afterbegin",`<li data-target="${t}">${r+" "+parseInt(o[0])+"-"+parseInt(o[1])}<button type="button" class="btn-cross"></button></li>`)}}))}catFilter&&filterSelected&&(initRangeSliders(),catFilterObj={checkInp:function(e){e.checked=!0,e.setAttribute("checked",!0)},uncheckInp:function(e){e.checked=!1,e.removeAttribute("checked")},setSelected:function(e){let t=e.nextElementSibling.textContent,r=e.getAttribute("data-id"),o=e.getAttribute("data-name"),n=o?o+" "+t.toLowerCase():t;filterSelected.insertAdjacentHTML("afterbegin",`<li data-target="${r}">${n}<button type="button" class="btn-cross"></button></li>`)},removeSelected:function(e){filterSelected.querySelector(`[data-target="${e}"]`)&&filterSelected.querySelector(`[data-target="${e}"]`).remove()},selectedOnClick:function(e){catFilterSubmit(),filterSelected.querySelectorAll("li").forEach((t=>{if(t.querySelector(".btn-cross").contains(e.target)){let e=t.getAttribute("data-target");const r=catFilter.querySelector(`[data-id='${e}']`);r.querySelector(".range-filter__slider")?r.querySelector(".range-filter__slider").noUiSlider.reset():this.uncheckInp(r),t.remove()}}))},selectedCount:function(){if(filterCount.length){let e=filterSelected.querySelector("li")?filterSelected.querySelectorAll("li").length:"";filterCount.forEach((t=>{t.textContent=e}))}},closeFilter:function(){catFilter.classList.contains("show")&&(catFilter.classList.remove("show"),enableScroll()),catFilterObj.selectedCount()},resetFilter:function(){catFilter.querySelectorAll("label input").forEach((e=>{this.uncheckInp(e)})),filterSelected.innerHTML="",catFilter.querySelector(".range-filter__slider")&&catFilter.querySelectorAll(".range-filter__slider").forEach((e=>e.noUiSlider.reset())),catFilterObj.closeFilter()}},filterSelected.innerHTML="",catFilter.querySelectorAll("label input").forEach((e=>{e.checked&&catFilterObj.setSelected(e),catFilterObj.selectedCount()})),setRangeSelected(),filterSelected.addEventListener("click",(e=>catFilterObj.selectedOnClick(e))),document.querySelectorAll(".filter-reset").forEach((e=>e.addEventListener("click",(()=>catFilterObj.resetFilter())))),document.querySelectorAll(".filter-submit").forEach((e=>e.addEventListener("click",(e=>{e.preventDefault(),filterSelected.innerHTML="",catFilter.querySelectorAll("label input").forEach(((e,t)=>{let r=e.getAttribute("data-id");e.checked?catFilterObj.setSelected(e):catFilterObj.removeSelected(r),catFilterObj.selectedCount()})),setRangeSelected(),catFilterObj.closeFilter(),catFilterSubmit()})))),document.querySelector(".filter-icon")&&(document.querySelector(".filter-icon").addEventListener("click",(()=>{disableScroll(),catFilter.classList.add("show")})),catFilter.querySelector(".cat-filter__close").addEventListener("click",(()=>{catFilterObj.closeFilter(),enableScroll()}))));const catalogViewBtn=document.querySelectorAll(".catalog-top__view-btn"),catalogView=document.querySelector("[data-catalog-view]");catalogViewBtn.length&&catalogView&&catalogViewBtn.forEach((e=>{e.addEventListener("click",(()=>{catalogView.classList.add("loading"),catalogViewBtn.forEach((e=>e.classList.remove("active"))),e.classList.add("active");let t=e.getAttribute("data-view");catalogView.setAttribute("data-catalog-view",t),setTimeout((()=>{catalogView.classList.remove("loading")}),300)}))}));const productSwiper=document.querySelector(".product .product__swipers");function initProductSwiper(e){if(e){const t=e.querySelector(".product__thumbswiper");let r;t&&(r=new Swiper(t.querySelector(".swiper"),{slidesPerView:t.classList.contains("product__thumbswiper--quickView")?3:4,spaceBetween:8,observer:!0,observeParents:!0,watchSlidesProgress:!0,breakpoints:{1700.98:{slidesPerView:t.classList.contains("product__thumbswiper--quickView")?4:5.31,spaceBetween:12},1030.98:{slidesPerView:t.classList.contains("product__thumbswiper--quickView")?3:4,spaceBetween:8},700.98:{slidesPerView:4,spaceBetween:8}},navigation:{prevEl:e.querySelector(".nav-btn--prev"),nextEl:e.querySelector(".nav-btn--next")},speed:800}));new Swiper(e.querySelector(".product__mainswiper .swiper"),{slidesPerView:1,observer:!0,observeParents:!0,watchSlidesProgress:!0,effect:"fade",fadeEffect:{crossFade:!0},thumbs:{swiper:r||null},pagination:{el:e.querySelector(".swiper-pagination"),type:"bullets",clickable:!0},navigation:{prevEl:e.querySelector(".nav-btn--prev"),nextEl:e.querySelector(".nav-btn--next")},speed:300})}}initProductSwiper(productSwiper);const cartP=document.querySelector(".cart-p");function cartSubmitBtn(e){const t=cartP.querySelector(".total-cart__submit");t&&(Array.from(e).some((e=>e.checked))?t.classList.remove("disabled"):t.classList.add("disabled")),Array.from(e).some((e=>e.checked))&&!Array.from(e).every((e=>e.checked))?cartP.classList.add("some-items-checked"):cartP.classList.remove("some-items-checked")}if(cartP){const h=cartP.querySelector(".cart-p__inStock-allChek"),S=cartP.querySelectorAll(".item-cart--inStock .item-cart__check");h&&S.length&&allCheckBtn(h,S)}const clearCartBtns=document.querySelectorAll(".cart-clear-btn");clearCartBtns.length&&clearCartBtns.forEach((e=>{e.addEventListener("click",(()=>{let t=e.getAttribute("data-cart-type");const r=document.getElementById("cart-clear-modal");r&&(r.querySelector(".js-clear-cart").setAttribute("data-cart-type",t),openModal(document.querySelector("#cart-clear-modal")))}))}));const orderP=document.querySelector(".order-p");if(orderP){const v=orderP.querySelectorAll(".switch-block"),w=orderP.querySelectorAll("[data-address]"),f=orderP.querySelector("[data-full-address]"),b=orderP.querySelector("[data-agree]"),q=orderP.querySelector(".total-cart__submit");function setFullAddress(){let e=orderP.querySelector("[data-address='city']")?.textContent||"",t=[orderP.querySelector("[data-address='locality']")?.value||"",orderP.querySelector("[data-address='street']")?.value||"",orderP.querySelector("[data-address='home']")?.value||""].filter(Boolean).join(", ");f.textContent=t||e}v.length&&v.forEach((e=>{e.querySelectorAll("[data-tab]").forEach((t=>{t.addEventListener("click",(()=>{e.querySelectorAll("[data-block]").forEach((e=>{})),e.closest("[data-step]")&&orderP.querySelectorAll("[data-step]").forEach((t=>{Number(t.dataset.step)>Number(e.closest("[data-step]").dataset.step)&&(formReset(t),t.querySelector("[data-radio-value]")&&(t.querySelector("[data-radio-value]").innerHTML=""),t.querySelector(".switch-block [data-block]")&&t.querySelectorAll(".switch-block").forEach((e=>{e.querySelector("input[data-tab]")&&e.querySelectorAll("[data-block]").forEach((e=>e.classList.remove("active")))})))}))}))}))})),orderP.querySelector(".text-radio")&&orderP.querySelectorAll(".text-radio").forEach((e=>{e.querySelector("input").addEventListener("change",(()=>{const t=e.closest(".accordion");let r=e.querySelector("p").innerHTML;t&&r&&t.querySelector("[data-radio-value")&&(t.querySelector("[data-radio-value").innerHTML=r)}))})),w.length&&f&&(setFullAddress(),w.forEach((e=>{e.addEventListener("change",setFullAddress),e.closest(".item-form")&&e.closest(".item-form").querySelector(".item-form__reset")&&e.closest(".item-form").querySelector(".item-form__reset").addEventListener("click",setFullAddress)}))),b&&q&&b.addEventListener("change",(()=>{b.checked?q.classList.remove("disabled"):q.classList.add("disabled")}))}const orderCancelBtn=document.querySelectorAll(".order-cancel-btn"),orderCancelModal=document.querySelector("#order-cancel-modal");orderCancelBtn.length&&orderCancelModal&&orderCancelBtn.forEach((e=>{e.addEventListener("click",(()=>{let t=e.closest(".order-current").getAttribute("data-order-id");orderCancelModal.querySelector("button[type=submit]")?.setAttribute("data-order-id",t),openModal(orderCancelModal)}))}));const orderCallbackBtn=document.querySelectorAll(".order-callback-btn"),contactManagerMod=document.querySelector("#contact-manager-modal");orderCallbackBtn.length&&contactManagerMod&&orderCallbackBtn.forEach((e=>{e.addEventListener("click",(()=>{let t=e.closest(".order-current").getAttribute("data-order-id");contactManagerMod.querySelector("button[type=submit]")?.setAttribute("data-order-id",t),openModal(contactManagerMod)}))}));const navAnchors=document.querySelectorAll(".nav-anchors .js-anchor");if(navAnchors.length){function initializeObserver(){if(window.innerWidth>bp.desktop){let e=header.clientHeight+10,t=window.innerHeight-(header.clientHeight+10),r=new IntersectionObserver((e=>{e.forEach((e=>{if(e.isIntersecting){const t=e.target.id,r=document.querySelector(`.js-anchor[href="#${t}"]`);navAnchors.forEach((e=>e.classList.remove("active"))),r&&r.classList.add("active")}}))}),{rootMargin:`-${e}px 0px -${t}px 0px`,threshold:0});return navAnchors.forEach((e=>{const t=e.getAttribute("href").substring(1),o=document.getElementById(t);o&&r.observe(o)})),r}return null}let g=initializeObserver();window.addEventListener("resize",(()=>{g&&g.disconnect(),g=initializeObserver()}))}const quizP=document.querySelector(".quiz-p"),quizStep=document.querySelectorAll(".quiz-p [data-step]");if(quizP&&quizStep.length>1){function setActiveStep(e){quizP.querySelectorAll("[data-step]").forEach((e=>e.classList.remove("active"))),e.classList.add("active"),e.style.opacity=0,setTimeout((()=>{e.style.opacity=1}),0)}quizStep.forEach((e=>{const t=e.querySelector("[data-error]");let r=e.getAttribute("data-step");const o=e.querySelector("[data-to-step]");o&&o.addEventListener("click",(()=>{let n=o.getAttribute("data-to-step");const i=quizP.querySelector(`[data-step='${n}']`);if(1===Number(r)){Array.from(e.querySelectorAll(".category-check")).some((e=>{if(e.querySelector("input:checked")){const t=e.querySelector(".item-form");return!t||(!!t.querySelector("input").value||(t.classList.add("error"),!1))}return!1}))&&i?(setActiveStep(i),t.textContent="",e.querySelectorAll(".item-form")&&e.querySelectorAll(".item-form").forEach((e=>e.classList.remove("error")))):t.textContent="Выберите одну или несколько категорий"}}))}))}const calculator=document.querySelectorAll(".calculator");function initCalcRangeSliders(e){e.querySelectorAll(".range-filter").forEach((t=>{let r,o=t.querySelector(".range-filter__start"),n=t.querySelector(".range-filter__end"),i=t.querySelector(".range-filter__slider"),l=+t.getAttribute("data-start"),s=+t.getAttribute("data-min"),a=+t.getAttribute("data-max");noUiSlider.create(i,{start:l,connect:[!0,!1],range:{min:s,max:a}}),o.addEventListener("change",(()=>{o.value<s&&(o.value=s),o.value>a&&(o.value=a),i.noUiSlider.set([o.value,null])}));let c=[o,n];i.noUiSlider.on("update",(function(t,o){c[o].value=parseInt(t[o]),clearTimeout(r),r=setTimeout((()=>{let t=e.querySelector("[data-range=width]")?.querySelector(".range-filter__slider").noUiSlider.get(),r=e.querySelector("[data-range=length]")?.querySelector(".range-filter__slider").noUiSlider.get(),o=e.querySelector("[data-range=depth]")?.querySelector(".range-filter__slider").noUiSlider.get(),n=t*r/1e6,i=n*o/1e3;e.setAttribute("data-square",Number(n)),e.setAttribute("data-volume",Number(i));let l=e.querySelector("[data-calc-inp='data-count']");l&&l.value>=1&&e.querySelectorAll("[data-calc-inp]").forEach((t=>{let r=t.getAttribute("data-calc-inp"),o=e.getAttribute(`${r}`)||1;t.value=o*l.value}))}),500)}))}))}calculator.length&&calculator.forEach((e=>{e.querySelector(".range-filter")&&initCalcRangeSliders(e);const t=e.querySelectorAll("[data-calc-inp]");t.length&&t.forEach((r=>{let o=r.value,n=r.getAttribute("data-calc-inp");r.addEventListener("change",(()=>{if(/^\d+(\.\d+)?$/.test(r.value)){r.value=Number(r.value);let o=e.getAttribute(`${n}`)||1,i=r.value/o;t.forEach((t=>{if(r!==t){let r=t.getAttribute("data-calc-inp"),o=e.getAttribute(`${r}`)||1;t.value=o*i}}))}else r.value=o;o=r.value}))}))}));