document.querySelector(".preloader")&&window.addEventListener("load",(e=>{setTimeout((()=>{document.body.classList.add("loaded")}),100)}));const header=document.querySelector(".header"),headerFix=document.querySelector(".fixed-header"),menuBtn=document.querySelector(".menu-btn"),iconMenu=document.querySelector(".icon-menu"),overlay=document.querySelector(".overlay"),modal=document.querySelectorAll(".modal"),modOpenBtn=document.querySelectorAll(".mod-open-btn"),modCloseBtn=document.querySelectorAll(".mod-close-btn"),successModal=document.querySelector("#success-modal"),errorModal=document.querySelector("#error-modal"),cookiePopup=document.querySelector("#cookie-popup"),dropdown=document.querySelectorAll(".dropdown");let lblTimeout,animSpd=400,headerTranslate=0,bp={largeDesktop:1700.98,desktop:1250.98,laptop:1030.98,tablet:700.98,phone:575.98};function addToCart(e,t,r=!1){console.log(e+" Добавлен в корзину в количестве "+t),clearTimeout(lblTimeout),r&&r()}function removeFromCart(e,t=!1){console.log(e+" Удалён из корзины"),clearTimeout(lblTimeout),t&&t()}function addToFav(e,t=!1){console.log(e+" Добавлен в избранное"),clearTimeout(lblTimeout),t&&t()}function removeFromFav(e,t=!1){console.log(e+" Удалён из избранного"),clearTimeout(lblTimeout),t&&t()}function clearCart(e,t=!1){console.log(e),clearTimeout(lblTimeout),t&&t()}function catFilterSubmit(){}function sprite(e){return'<svg><use xlink:href="img/svg/sprite.svg#'+e+'"></use></svg>'}function scrollPos(){return window.pageYOffset||document.documentElement.scrollTop}function isPhone(e){return!!e.match(/^\+7 \d{3} \d{3}-\d{2}-\d{2}$/)}function maskEmail(e){const[t,r]=e.split("@");let o="";return o=t.length<=3?t.substring(0,1)+"***":t.substring(0,2)+"***"+t.substring(t.length-1),o+"@"+r}function enableScroll(){document.querySelector(".modal.open")||menuBtn.classList.contains("active")||(document.querySelectorAll(".fixed-block")&&document.querySelectorAll(".fixed-block").forEach((e=>e.style.paddingRight="0px")),document.body.style.paddingRight="0px",document.body.classList.remove("no-scroll"))}function disableScroll(){if(!document.querySelector(".modal.open")&&!menuBtn.classList.contains("active")){let e=window.innerWidth>350?window.innerWidth-document.documentElement.clientWidth+"px":0;document.querySelector(".fixed-block")&&document.querySelectorAll(".fixed-block").forEach((t=>t.style.paddingRight=e)),document.body.style.paddingRight=e,document.body.classList.add("no-scroll")}}function smoothDrop(e,t,r=!1){let o=r||500;if(t.style.overflow="hidden",t.style.transition=`height ${o}ms ease`,t.style["-webkit-transition"]=`height ${o}ms ease`,e.classList.contains("active")){e.parentNode.classList.remove("active");let r=t.clientHeight+"px";t.style.height=r,setTimeout((function(){t.style.height="0",setTimeout((()=>{t.style.height=null,e.classList.remove("active"),t.classList.remove("active")}),o)}),0)}else{e.parentNode.classList.add("active"),t.classList.add("active");let r=t.clientHeight+"px";t.style.height="0px",setTimeout((function(){t.style.height=r,setTimeout((()=>{t.style.height=null,e.classList.add("active")}),o)}),0)}}function updateOptionsVisibility(){document.querySelectorAll("[data-visibility]")&&document.querySelectorAll("[data-visibility]").forEach((e=>{let t=e.getAttribute("data-visibility");document.querySelector(`[data-tab='${t}'`)&&document.querySelector(`[data-tab='${t}'`).classList.contains("active")?e.classList.add("show"):e.classList.remove("show")}))}function tabSwitch(e,t){e.forEach((r=>{r.classList.contains("active")&&updateOptionsVisibility(),r.addEventListener("click",(()=>{e.forEach((e=>{e.classList.remove("active")})),r.classList.add("active"),t.forEach((e=>{e.dataset.block===r.dataset.tab?e.classList.contains("active")||(e.classList.add("active"),e.style.opacity="0",setTimeout((()=>{e.style.opacity="1"}),0)):e.classList.remove("active")})),updateOptionsVisibility()}))}))}const tabsScroll=document.querySelectorAll(".tabs-scroll");function tabsBtnVisibility(e){e.querySelector(".tabs").scrollWidth-e.querySelector(".tabs").clientWidth-e.querySelector(".tabs").scrollLeft>5?e.classList.add("show-btn"):e.classList.remove("show-btn")}tabsScroll.length&&tabsScroll.forEach((e=>{tabsBtnVisibility(e),e.querySelector(".tabs").addEventListener("scroll",(()=>tabsBtnVisibility(e))),window.addEventListener("resize",tabsBtnVisibility(e))}));const customScroll=document.querySelectorAll(".custom-scroll");let isFirefox="undefined"!=typeof InstallTrigger;isFirefox&&(document.documentElement.style.scrollbarWidth="thin",document.documentElement.style.scrollbarColor="#769882 #cfd8d2",customScroll&&customScroll.forEach((e=>{document.documentElement.style.scrollbarWidth="thin",e.style.scrollbarColor="#769882 #cfd8d2"}))),document.querySelector(".js-anchor")&&document.querySelectorAll(".js-anchor").forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();let r=document.querySelector(e.getAttribute("href")),o=window.innerWidth>bp.desktop?header.querySelector(".header__body").clientHeight:header.clientHeight;if(destPos=r.getBoundingClientRect().top-o-10,e.hasAttribute("data-tab")){let t=e.getAttribute("data-tab");r.querySelector(`[data-tab='${t}']`)&&r.querySelector(`[data-tab='${t}']`).click()}menuBtn&&menuBtn.classList.contains("active")?(menuBtn.click(),setTimeout((()=>{window.scrollTo({top:scrollPos()+destPos,behavior:"smooth"})}),300)):window.scrollTo({top:scrollPos()+destPos,behavior:"smooth"})}))}));let lastScroll=scrollPos();const headerTop=document.querySelector(".header__top");window.addEventListener("scroll",(()=>{scrollPos()>headerTop.clientHeight?(header.classList.add("scroll"),scrollPos()>lastScroll&&!header.classList.contains("unshow")?(header.classList.add("unshow"),headerTranslate=headerTop.clientHeight,header.style.transform="translateY("+(-headerTop.clientHeight-1)+"px)"):scrollPos()<lastScroll&&header.classList.contains("unshow")&&(header.classList.remove("unshow"),headerTranslate=0,header.style.transform="translateY(0)")):(header.classList.remove("scroll","unshow"),headerTranslate=0,header.style.transform="translateY(0)"),lastScroll=scrollPos()}));const switchBlock=document.querySelectorAll(".switch-block");function showCookie(){cookiePopup&&cookiePopup.classList.add("show")}function unshowCookie(){cookiePopup&&cookiePopup.classList.remove("show")}function openModal(e){let t=document.querySelector(".modal.open");disableScroll(),t&&t.classList.remove("open"),e.classList.add("open")}function closeModal(e){e.querySelector("video")&&e.querySelectorAll("video").forEach((e=>e.pause())),e.closest(".dropdown")&&e.closest(".dropdown").classList.remove("open"),e.classList.remove("open"),setTimeout((()=>{enableScroll()}),animSpd)}function fancyModal(e){let t=[],r=e.getAttribute("data-fit")?e.getAttribute("data-fit"):"media-cover",o=e.getAttribute("data-fancy"),n=e.hasAttribute("data-thumb");document.querySelectorAll("[data-fancy]").forEach((e=>{if(!e.closest(".swiper-slide-duplicate")&&e.getAttribute("data-fancy")===o){let r={src:e.getAttribute("data-src"),type:e.getAttribute("data-type")||"image"};"video"===e.getAttribute("data-type")&&e.getAttribute("data-poster")&&(r.poster=e.getAttribute("data-poster")),t.push(r)}}));let l=t.findIndex((t=>t.src===e.getAttribute("data-src")));document.querySelector(".footer").insertAdjacentHTML("afterend",`\n                <div class="custom-scroll modal fancy-modal ${o+"-modal"}">\n                    <div class="fancy-modal__content">\n                        <button type="button" class="btn-cross modal__close"></button>\n                        <div class="fancy-modal__mainswiper">\n                            <div class="swiper">\n                                <div class="swiper-wrapper">\n                                    ${t.map(((e,t)=>`<div class="swiper-slide">\n                                        <div class="${r}">\n                                            ${"video"===e.type?`<video ${t===l?`src='${e.src}'`:`data-src='${e.src}'`} ${e.poster?`poster='${e.poster}'`:""} loop autoplay playsinline mute controls></video>`:`<img src=${e.src} alt="">`}                                                \n                                        </div>\n                                    </div>`)).join("")}\n                                </div>\n                            </div>\n                        </div>\n                        ${n&&t.length>1?`<div class="fancy-modal__thumbswiper">\n                            <div class="swiper">\n                                <div class="swiper-wrapper">\n                                    ${t.map((e=>`<div class="swiper-slide">\n                                        <div class="${r} ${"video"===e.type?"video":""}">\n                                            ${"video"===e.type?`<img ${e.poster?`src='${e.poster}'`:""}>`:`<img src=${e.src} alt="">`}                                                \n                                        </div>\n                                    </div>`)).join("")}\n                                </div>\n                            </div>\n                            <div class="swiper-nav">\n                                <button type="button" class="nav-btn nav-btn--prev">${sprite("btn-prev")}</button>\n                                <button type="button" class="nav-btn nav-btn--next">${sprite("btn-next")}</button>\n                            </div>\n                        </div>`:""}\n                    </div>\n                </div>\n            `);const i=document.querySelector(".fancy-modal");let s;n&&t.length>1&&(s=new Swiper(i.querySelector(".fancy-modal__thumbswiper .swiper"),{slidesPerView:3,spaceBetween:12,observer:!0,observeParents:!0,watchSlidesProgress:!0,initialSlide:l,navigation:{prevEl:i.querySelector(".nav-btn--prev"),nextEl:i.querySelector(".nav-btn--next")},breakpoints:{575.98:{slidesPerView:4}},speed:800}));let a=new Swiper(i.querySelector(".fancy-modal__mainswiper .swiper"),{slidesPerView:1,observer:!0,observeParents:!0,initialSlide:l,effect:"fade",fadeEffect:{crossFade:!0},thumbs:{swiper:s||null},speed:300});a.on("slideChange",(e=>{i.querySelector("video")&&i.querySelectorAll("video").forEach((e=>e.pause()));let t=a.slides[a.activeIndex].querySelector("[data-src]"),r=a.slides[a.activeIndex].querySelector("video");t?(t.setAttribute("src",t.getAttribute("data-src")),t.removeAttribute("data-src")):!t&&r&&r.play()})),openModal(i),i.querySelectorAll(".modal__close").forEach((e=>{e.addEventListener("click",(e=>{closeModal(i),setTimeout((()=>{i.remove()}),animSpd)}))}))}switchBlock&&switchBlock.forEach((e=>{tabSwitch(e.querySelectorAll("[data-tab]"),e.querySelectorAll("[data-block]"))})),modal&&modal.forEach((e=>{e.addEventListener("click",(t=>{e.querySelector(".modal__content").contains(t.target)||closeModal(e)})),e.querySelectorAll(".modal__close").forEach((t=>{t.addEventListener("click",(()=>{closeModal(e)}))}))})),modOpenBtn&&modOpenBtn.forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();let r=e.getAttribute("data-modal");openModal(document.getElementById(r))}))})),modCloseBtn&&modCloseBtn.forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();let r=e.getAttribute("data-modal");closeModal(document.getElementById(r))}))}));const fancyBlock=document.querySelectorAll(".fancy-block");function openDropdown(e){window.innerWidth<=bp.laptop&&disableScroll(),e.classList.add("open"),e.querySelector(".modal")&&e.querySelector(".modal").classList.add("open"),e.setAttribute("aria-expanded",!0),e.querySelectorAll(".dropdown__options input").forEach((t=>{t.addEventListener("change",(t=>{setActiveOption(e)}))})),document.addEventListener("click",(function t(r){e.contains(r.target)||(closeDropdown(e),document.removeEventListener("click",t))}))}function setActiveOption(e){if(e.querySelector(".dropdown__header").classList.add("checked"),e.classList.contains("radio-select")){let t=e.querySelector("input:checked").nextElementSibling.innerHTML;e.querySelector(".dropdown__header span").innerHTML=t,closeDropdown(e)}}function closeDropdown(e){e.querySelector(".modal")&&e.querySelector(".modal").classList.remove("open"),e.classList.remove("open"),e.setAttribute("aria-expanded",!1),enableScroll()}function setSuccessTxt(e=!1,t=!1,r=!1){successModal.querySelector("h3").textContent=e||"Заявка успешно отправлена",successModal.querySelector(".stroke-btn").textContent=r||"Закрыть",t&&(successModal.querySelector("p").textContent=t)}function setErrorTxt(e=!1,t=!1,r=!1){errorModal.querySelector("h3").textContent=e||"Что-то пошло не так",errorModal.querySelector(".stroke-btn").textContent=r||"Закрыть",t&&(errorModal.querySelector("p").textContent=t)}function openSuccessMod(e=!1,t=!1,r=!1){setSuccessTxt(e,t,r),openModal(successModal)}function openErrorMod(e=!1,t=!1,r=!1){setErrorTxt(e,t,r),openModal(errorModal)}function formReset(e){e.querySelectorAll(".item-form").length>0&&e.querySelectorAll(".item-form").forEach((e=>e.classList.remove("error"))),e.querySelectorAll(".item-form__reset").length>0&&e.querySelectorAll(".item-form__reset").forEach((e=>e.classList.remove("show"))),e.querySelectorAll("[data-error]").length>0&&e.querySelectorAll("[data-error]").forEach((e=>e.textContent="")),e.querySelectorAll("input").forEach((e=>{["hidden","checkbox","radio"].includes(e.type)||(e.value=""),["checkbox","radio"].includes(e.type)&&!e.classList.contains("required")&&(e.checked=!1)})),e.querySelector("textarea")&&(e.querySelector("textarea").value=""),e.querySelector(".file-form__items")&&(e.querySelector(".file-form__items").innerHTML="")}fancyBlock.length&&fancyBlock.forEach((e=>{e.addEventListener("click",(t=>{const r=e.querySelectorAll("[data-fancy]");r.length&&r.forEach((e=>{e.contains(t.target)&&fancyModal(e)}))}))})),dropdown&&dropdown.forEach((e=>{e.querySelector(".dropdown__header").addEventListener("click",(()=>{e.classList.contains("open")?closeDropdown(e):openDropdown(e)}))}));const searchForm=document.querySelectorAll(".search-form");function showSearchBtns(e){e.querySelector("input").value.length>0?(e.querySelector(".search-form__submit").classList.add("show"),e.querySelector(".search-form__reset").classList.add("show")):(e.querySelector(".search-form__submit").classList.remove("show"),e.querySelector(".search-form__reset").classList.remove("show"))}searchForm&&searchForm.forEach((e=>{showSearchBtns(e),e.querySelector("input").addEventListener("input",(()=>showSearchBtns(e))),e.querySelector("input").addEventListener("focus",(()=>e.classList.add("focused"))),e.querySelector("input").addEventListener("blur",(()=>e.classList.remove("focused"))),e.addEventListener("reset",(()=>{e.querySelector("input").setAttribute("value",""),e.classList.remove("show-results"),showSearchBtns(e)}))}));const itemFormPass=document.querySelectorAll(".item-form--password");itemFormPass&&itemFormPass.forEach((e=>{e.querySelector(".item-form__eye").addEventListener("click",(()=>{e.classList.toggle("show-password"),e.classList.contains("show-password")?e.querySelector("input").type="text":e.querySelector("input").type="password"}))}));const itemForm=document.querySelectorAll(".item-form");itemForm&&itemForm.forEach((e=>{const t=e.querySelector(".item-form__reset");t&&(e.querySelector("input").addEventListener("input",(e=>{e.target.value.length>0?t.classList.add("show"):t.classList.remove("show")})),t.addEventListener("click",(r=>{r.preventDefault(),e.querySelector("input").value="",t.classList.remove("show")})))}));const disabledForm=document.querySelectorAll(".disabled-form");function toggleSubmitBtn(e){let t=Array.from(e.querySelectorAll("input.required")).find((e=>{if(e.value&&"tel"===e.type&&!isPhone(e.value)||!e.value||["checkbox","radio"].includes(e.type)&&!e.checked)return e}));t?e.querySelector("button[type=submit]").setAttribute("disabled",!0):e.querySelector("button[type=submit]").removeAttribute("disabled")}disabledForm.length>0&&disabledForm.forEach((e=>{if(e.querySelectorAll("input.required").length>0){let t;toggleSubmitBtn(e),e.querySelectorAll("input.required").forEach((r=>{["text","tel"].includes(r.type)?r.addEventListener("input",(()=>{clearTimeout(t),t=setTimeout((()=>{toggleSubmitBtn(e)}),300)})):r.addEventListener("change",(()=>{toggleSubmitBtn(e)}))}))}}));const inp=document.querySelectorAll("input[type=tel]");inp&&inp.forEach((e=>{Inputmask({mask:"+7 999 999-99-99"}).mask(e)}));let allFileTypes=[{extension:".png",mimeType:"image/png"},{extension:[".jpg",".jpeg"],mimeType:"image/jpeg"},{extension:".gif",mimeType:"image/gif"},{extension:".bmp",mimeType:"image/bmp"},{extension:".txt",mimeType:"text/plain"},{extension:".rtf",mimeType:"application/rtf"},{extension:[".ppt",".pot",".pps",".ppa"],mimeType:"application/vnd.ms-powerpoint"},{extension:".pptx",mimeType:"application/vnd.openxmlformats-officedocument.presentationml.presentation"},{extension:".odp",mimeType:"application/vnd.oasis.opendocument.presentation"},{extension:".ods",mimeType:"application/vnd.oasis.opendocument.spreadsheet"},{extension:".doc",mimeType:"application/msword"},{extension:".docx",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"},{extension:".pdf",mimeType:"application/pdf"},{extension:[".xls",".xlt",".xla",".xlsb",".xlsm",".xltx",".xltm"],mimeType:"application/vnd.ms-excel"},{extension:".xlsx",mimeType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},{extension:".odt",mimeType:"application/vnd.oasis.opendocument.text"}];function addFile(e,t){let r=t.querySelector("input").getAttribute("data-max-size"),o=t.querySelector("input").getAttribute("accept"),n=[];if(o){let e=o.split(",").map((e=>e.trim().toLowerCase())).filter((e=>""!==e));allFileTypes.forEach((t=>{if(Array.isArray(t.extension)){for(const r of t.extension)if(e.includes(r)){n.push(t.mimeType);break}}else"string"==typeof t.extension&&e.includes(t.extension)&&n.push(t.mimeType)})),o=e.map((e=>e.replace(/^\./,""))).join(", ")}for(let l=0;l<e.length;l++){let i=e[l];if(r&&i.size>1024*r*1024)return t.querySelector("input").value="",t.classList.add("error"),t.querySelectorAll(".file-form__item").forEach((e=>e.remove())),void(t.querySelector("[data-error]").textContent=`Файл должен быть менее ${r} МБ`);if(o&&n.length&&!n.includes(i.type))return t.querySelector("input").value="",t.classList.add("error"),t.querySelectorAll(".file-form__item").forEach((e=>e.remove())),void(t.querySelector("[data-error]").textContent="Загрузите картинку в одном из указанных форматов");{t.classList.remove("error"),t.querySelector("[data-error]").textContent="";let e=new FileReader;e.readAsDataURL(i),e.onload=()=>{t.querySelector(".file-form__items").insertAdjacentHTML("afterbegin",`<div class="file-form__item">\n                        <div class="file-form__name">${i.name}</div>\n                        <div class="file-form__name">${Math.ceil(i.size/1024/1024*100)/100} Mb</div>\n                        <button type="button" class="btn-cross file-form__del"></button>\n                    </div>`)},e.onerror=()=>{console.log(e.error)}}}}function disabledMinusBtn(e,t){t<=1?e.querySelector(".js-minus").classList.add("disabled"):e.querySelector(".js-minus").classList.remove("disabled")}function disabledPlusBtn(e,t,r){t>=r?e.querySelector(".js-plus").classList.add("disabled"):e.querySelector(".js-plus").classList.remove("disabled")}function quantityOnChange(e,t,r){let o=e.closest(".js-prodBlock");if(disabledMinusBtn(e,t),r&&disabledPlusBtn(e,t,r),o.classList.contains("js-prodBlock--product")&&document.querySelectorAll(".js-prodBlock--product").forEach((e=>{e.querySelectorAll(".quantity").forEach((e=>{disabledMinusBtn(e,t),r&&disabledPlusBtn(e,t,r),e.querySelector(".quantity__count").value=t}))})),!o.classList.contains("js-prodBlock--product")||o.classList.contains("js-prodBlock--product")&&o.classList.contains("in-cart")){addToCart(o.dataset.id,t)}}function setQuantity(){const e=document.querySelectorAll(".quantity");e.length&&e.forEach((e=>{const t=e.querySelector(".quantity__count");let r=Number(e.getAttribute("data-stock")),o=t.value;disabledMinusBtn(e,o),r&&disabledPlusBtn(e,o,r)}))}document.querySelector(".file-form")&&document.querySelectorAll(".file-form").forEach((e=>{e.querySelector("input").addEventListener("change",(t=>{e.querySelectorAll(".file-form__item").forEach((e=>e.remove())),addFile(t.target.files,e)})),e.addEventListener("click",(t=>{e.querySelectorAll(".file-form__del").forEach(((r,o)=>{if(r.contains(t.target)){const t=new DataTransfer,n=e.querySelector("input"),{files:l}=n;for(let e=0;e<l.length;e++){let r=l[e];e!==o&&t.items.add(r)}n.files=t.files,setTimeout((()=>{r.parentNode.remove()}),0)}}))})),e.addEventListener("dragenter",(e=>{e.preventDefault()})),e.addEventListener("dragover",(e=>{e.preventDefault()})),e.addEventListener("dragleave",(e=>{e.preventDefault()})),e.addEventListener("drop",(function(t){t.preventDefault();const r=new DataTransfer;r.items.add(t.dataTransfer.files[0]);let o=Array.from(r.files);e.querySelector("input").files=r.files,e.querySelectorAll(".file-form__item").forEach((e=>e.remove())),addFile(o,e)}))})),setQuantity();const jsProdWrapper=document.querySelectorAll(".js-prodWrapper");jsProdWrapper.length&&jsProdWrapper.forEach((e=>{e.addEventListener("click",(e=>{if(e.target.closest(".quantity")){let t=e.target.closest(".quantity");const r=t.querySelector(".quantity__count");let o=Number(t.getAttribute("data-stock")),n=r.value;if(t.querySelector(".js-minus").contains(e.target))if(r.value>1)r.value--,n=r.value,quantityOnChange(t,n,o);else{let t=e.target.closest(".js-prodBlock");removeFromCart(t.dataset.id,(()=>{t.classList.remove("in-cart"),t.classList.contains("js-prodBlock--product")&&document.querySelectorAll(".js-prodBlock--product").forEach((e=>e.classList.remove("in-cart")))}))}t.querySelector(".js-plus").contains(e.target)&&(r.value++,n=r.value,quantityOnChange(t,n,o))}if(e.target.classList.contains("js-add-to-cart")){let t=e.target.closest(".js-prodBlock");addToCart(t.dataset.id,t.querySelector(".quantity input").value||1,(()=>{document.querySelector(".cart-popup")&&(document.querySelector(".cart-popup").classList.add("show"),lblTimeout=setTimeout((()=>{document.querySelector(".cart-popup").classList.remove("show")}),1500)),t.classList.add("in-cart"),t.classList.contains("js-prodBlock--product")&&document.querySelectorAll(".js-prodBlock--product").forEach((e=>e.classList.add("in-cart")))}))}if(e.target.classList.contains("js-fav")){let t=e.target,r=t.closest(".js-prodBlock").getAttribute("data-id");t.classList.contains("active")?removeFromFav(r,(()=>{t.classList.remove("active"),t.setAttribute("aria-label","Добавить в избранное")})):addToFav(r,(()=>{t.classList.add("active"),t.setAttribute("aria-label","Удалить из избранного")}))}if(e.target.classList.contains("product-remove")){let t=e.target.closest(".js-prodBlock").getAttribute("data-id");const r=document.getElementById("cart-removal-modal");r&&(r.querySelector(".js-remove-from-cart").setAttribute("data-id",t),openModal(document.querySelector("#cart-removal-modal")))}})),e.addEventListener("change",(e=>{if(e.target.closest(".quantity")){let t=e.target.closest(".quantity");const r=t.querySelector(".quantity__count");let o=Number(t.getAttribute("data-stock")),n=r.value;t.querySelector(".quantity__count").contains(e.target)&&(Number.isInteger(e.target.value)||e.target.value>=1?0==e.target.value.split("")[0]?r.value=Math.round(e.target.value.substring(1)):r.value=o&&Math.round(e.target.value)>o?o:Math.round(e.target.value):r.value=1,n=r.value,quantityOnChange(t,n,o))}}))}));const tippy=document.querySelectorAll(".tippy"),tippyContent=document.querySelector(".tippy-content");if(tippy.length>0){let e;function move(e){let t=e.getBoundingClientRect().top,r=e.getBoundingClientRect().left;tippyContent.style.top=t+e.clientHeight+10+"px",r-tippyContent.clientWidth/2+e.clientWidth/2<0?(tippyContent.style.left="15px",tippyContent.style.right="auto"):r+tippyContent.clientWidth/2+e.clientWidth/2>=window.innerWidth?(tippyContent.style.left="auto",tippyContent.style.right="15px"):(tippyContent.style.left=r-tippyContent.clientWidth/2+e.clientWidth/2+"px",tippyContent.style.right="auto")}function leave(){window.innerWidth>bp.laptop&&(tippyContent.classList.remove("open"),e=setTimeout((()=>{tippyContent.querySelector(".tippy-content__inner").textContent=""}),300))}tippy.forEach((t=>{t.addEventListener("mouseenter",(()=>{clearTimeout(e),window.innerWidth>bp.laptop&&(tippyContent.querySelector(".tippy-content__inner").textContent=t.querySelector("p").textContent,tippyContent.classList.add("open"),move(t))})),t.addEventListener("mouseleave",leave),t.addEventListener("click",(()=>{window.innerWidth<bp.laptop&&(tippyContent.querySelector(".tippy-content__inner").textContent=t.querySelector("p").textContent,openModal(tippyContent))}))})),window.addEventListener("resize",leave),window.addEventListener("scroll",leave)}function allCheckBtn(e,t){e.addEventListener("change",(()=>{t.forEach((t=>{e.checked?(t.checked=!0,t.setAttribute("checked",!0)):(t.checked=!1,t.removeAttribute("checked"))})),e.classList.contains("cart-p__inStock-allChek")&&cartSubmitBtn(t)})),t.forEach((r=>{r.addEventListener("change",(()=>{Array.from(t).every((e=>e.checked))?(e.checked=!0,e.setAttribute("checked",!0)):(e.checked=!1,e.removeAttribute("checked")),r.closest(".item-cart--inStock")&&cartSubmitBtn(t)}))}))}const accordion=document.querySelectorAll(".accordion");accordion&&accordion.forEach((e=>{e.querySelector(".accordion__header").addEventListener("click",(()=>{e.classList.contains("no-close")||e.parentNode.parentNode.querySelectorAll(".accordion").forEach((t=>{if(t.querySelector(".accordion__header").classList.contains("active")&&(smoothDrop(t.querySelector(".accordion__header"),t.querySelector(".accordion__body")),t.getBoundingClientRect().top<0)){let r=scrollPos()+e.getBoundingClientRect().top-t.querySelector(".accordion__body").clientHeight-header.clientHeight-10;window.scrollTo(0,r)}})),smoothDrop(e.querySelector(".accordion__header"),e.querySelector(".accordion__body"))}))}));const readMore=document.querySelectorAll(".read-more");function readMoreFunc(){readMore.length&&readMore.forEach((e=>{let t=e.querySelector(".read-more__btn").getAttribute("data-open"),r=e.querySelector(".read-more__btn").getAttribute("data-close");function o(){e.classList.remove("active"),e.classList.add("more-hidden");let r=e.querySelector(".read-more__content").clientHeight;e.classList.remove("more-hidden");let o=e.querySelector(".read-more__content").clientHeight;e.classList.add("more-hidden"),o>r?(e.classList.add("btn-show"),e.querySelector(".read-more__btn span").textContent=t):e.classList.remove("btn-show")}o();let n=window.innerWidth;window.addEventListener("resize",(()=>{n!=window.innerWidth&&(o(),n=window.innerWidth)})),e.querySelector(".read-more__btn").addEventListener("click",(()=>{if(e.classList.contains("active")){e.classList.remove("active");let r=e.querySelector(".read-more__content").clientHeight+"px";e.classList.add("more-hidden");let o=e.querySelector(".read-more__content").clientHeight+"px";e.classList.remove("more-hidden"),e.querySelector(".read-more__content").style.height=r,setTimeout((function(){e.querySelector(".read-more__content").style.height=o,e.querySelector(".read-more__btn span").textContent=t,setTimeout((()=>{e.classList.add("more-hidden"),e.querySelector(".read-more__content").style.height=null}),500)}),0)}else{e.classList.add("active");let t=e.querySelector(".read-more__content").clientHeight+"px";e.classList.remove("more-hidden");let o=e.querySelector(".read-more__content").clientHeight+"px";e.querySelector(".read-more__content").style.height=t,setTimeout((function(){e.querySelector(".read-more__content").style.height=o,e.querySelector(".read-more__btn span").textContent=r,setTimeout((()=>{e.querySelector(".read-more__content").style.height=null}),500)}),0)}}))}))}window.addEventListener("DOMContentLoaded",readMoreFunc);const shareList=document.querySelectorAll(".share-list [data-share]");if(shareList){const t=encodeURIComponent(window.location.href),r=encodeURIComponent(document.title);let o=[{value:"vk",href:"https://vk.com/share.php?url="+t+"&title="+r},{value:"telegram",href:"https://t.me/share/url?url="+t+"&text="+r},{value:"viber",href:"viber://forward?text="+t},{value:"odnoklassniki",href:"https://connect.ok.ru/offer?url="+t+"&title="+r}];shareList.forEach((e=>{let t=e.getAttribute("data-share");o.forEach((r=>{r.value===t&&e.setAttribute("href",r.href)}))}))}const jsPageUp=document.querySelector(".js-pageUp");jsPageUp&&jsPageUp.addEventListener("click",(()=>window.scrollTo(0,0)));const animItem=document.querySelectorAll("[data-animation]");function animate(){animItem.forEach((e=>{let t=e.getAttribute("data-animation"),r=e.getBoundingClientRect().top+scrollPos(),o=Math.abs(window.innerHeight-.1*e.offsetHeight);scrollPos()>r-o&&e.classList.add(t)}))}animItem.length>0&&(animate(),window.addEventListener("scroll",animate));const swiper6=document.querySelectorAll(".swiper6");swiper6.length&&swiper6.forEach((e=>{new Swiper(e.querySelector(".swiper"),{slidesPerView:3,spaceBetween:12,observer:!0,observeParents:!0,watchSlidesProgress:!0,breakpoints:{1700.98:{slidesPerView:6,spaceBetween:20},1250.98:{slidesPerView:6,spaceBetween:16},700.98:{slidesPerView:4,spaceBetween:16}},scrollbar:{el:e.querySelector(".swiper-scrollbar"),draggable:!0},speed:800})}));const swiper5=document.querySelectorAll(".swiper5");swiper5.length&&swiper5.forEach((e=>{new Swiper(e.querySelector(".swiper"),{slidesPerView:2,spaceBetween:12,observer:!0,observeParents:!0,watchSlidesProgress:!0,breakpoints:{1700.98:{slidesPerView:5,spaceBetween:20},1250.98:{slidesPerView:5,spaceBetween:16},1030.98:{slidesPerView:4,spaceBetween:16},700.98:{slidesPerView:3,spaceBetween:16}},scrollbar:{el:e.querySelector(".swiper-scrollbar"),draggable:!0},speed:800})}));const swiper3=document.querySelectorAll(".swiper3");if(swiper3.length&&swiper3.forEach((e=>{new Swiper(e.querySelector(".swiper"),{slidesPerView:1,spaceBetween:12,observer:!0,observeParents:!0,watchSlidesProgress:!0,scrollbar:{el:e.querySelector(".swiper-scrollbar"),draggable:!0},breakpoints:{1700.98:{slidesPerView:3,spaceBetween:20},1030.98:{slidesPerView:3,spaceBetween:16},700.98:{slidesPerView:2.16,spaceBetween:16}},speed:800})})),document.querySelector(".intro .swiper")){new Swiper(document.querySelector(".intro .swiper"),{slidesPerView:1,spaceBetween:16,loop:document.querySelectorAll(".intro .swiper-slide").length>1,observer:!0,observeParents:!0,watchSlidesProgress:!0,pagination:{el:document.querySelector(".intro .swiper-pagination"),type:"bullets",clickable:!0},navigation:{prevEl:document.querySelector(".intro .nav-btn--prev"),nextEl:document.querySelector(".intro .nav-btn--next")},autoplay:{delay:5e3,pauseOnMouseEnter:!0,disableOnInteraction:!1},speed:1e3})}if(document.querySelector(".main-idea .swiper")){new Swiper(document.querySelector(".main-idea .swiper"),{slidesPerView:1.52,spaceBetween:12,observer:!0,observeParents:!0,watchSlidesProgress:!0,breakpoints:{1700.98:{slidesPerView:5,spaceBetween:20},1250.98:{slidesPerView:5,spaceBetween:16},1030.98:{slidesPerView:4,spaceBetween:16},700.98:{slidesPerView:3,spaceBetween:16},575.98:{slidesPerView:2,spaceBetween:12}},speed:800})}if(document.querySelector(".main-about .swiper")){let n,l;function initAboutSwiper(){window.innerWidth<=bp.desktop&&!l?(l=!0,n=new Swiper(document.querySelector(".main-about .swiper"),{slidesPerView:1.52,spaceBetween:12,observer:!0,observeParents:!0,watchSlidesProgress:!0,breakpoints:{1030.98:{slidesPerView:3,spaceBetween:16},700.98:{slidesPerView:2,spaceBetween:16},575.98:{slidesPerView:2,spaceBetween:12}},speed:800})):window.innerWidth>bp.desktop&&l&&(l=!1,n.destroy())}initAboutSwiper(),window.addEventListener("resize",initAboutSwiper)}if(document.querySelector(".main-info .swiper")){let i,s;function initAboutSwiper(){window.innerWidth>=bp.phone&&!s?(s=!0,i=new Swiper(document.querySelector(".main-info .swiper"),{slidesPerView:2,spaceBetween:12,observer:!0,observeParents:!0,watchSlidesProgress:!0,breakpoints:{1700.98:{slidesPerView:3,spaceBetween:20},1030.98:{slidesPerView:3,spaceBetween:16},700.98:{slidesPerView:2,spaceBetween:16}},speed:800})):window.innerWidth<bp.phone&&s&&(s=!1,i.destroy())}initAboutSwiper(),window.addEventListener("resize",initAboutSwiper)}if(document.querySelector(".reviews .swiper")){new Swiper(document.querySelector(".reviews .swiper"),{slidesPerView:1,spaceBetween:12,observer:!0,observeParents:!0,watchSlidesProgress:!0,breakpoints:{1700.98:{slidesPerView:3,spaceBetween:20},1250.98:{slidesPerView:2.18,spaceBetween:16},700.98:{slidesPerView:1.6,spaceBetween:16},575.98:{slidesPerView:1.3,spaceBetween:12}},scrollbar:{el:document.querySelector(".reviews .swiper-scrollbar"),draggable:!0},speed:800})}const mainMenu=document.querySelector(".main-menu");function showMainMenu(){menuBtn.classList.contains("active")||(disableScroll(),header.classList.add("show-menu"),mainMenu.style.top=menuBtn.getBoundingClientRect().bottom+headerTranslate+"px",mainMenu.style.maxHeight=window.innerHeight-menuBtn.getBoundingClientRect().bottom-headerTranslate+"px",menuBtn.setAttribute("aria-expanded",!0),menuBtn.classList.add("active"),mainMenu.classList.add("show"),window.innerWidth>bp.laptop&&mainMenu.querySelector("[data-level='2']")&&mainMenu.querySelectorAll("[data-level='2']")[0].classList.add("active"))}function unshowMainMenu(){header.classList.remove("show-menu"),menuBtn.setAttribute("aria-expanded",!1),menuBtn.classList.remove("active"),mainMenu.classList.remove("show"),mainMenu.querySelectorAll("[data-level]").forEach((e=>{e.classList.remove("active")})),enableScroll()}if(menuBtn&&mainMenu){menuBtn.addEventListener("mouseenter",(()=>{window.innerWidth>bp.desktop&&showMainMenu()})),menuBtn.addEventListener("mouseleave",(()=>{window.innerWidth>bp.desktop&&unshowMainMenu()})),mainMenu.addEventListener("mouseenter",(()=>{window.innerWidth>bp.desktop&&showMainMenu()})),mainMenu.addEventListener("mouseleave",(()=>{window.innerWidth>bp.desktop&&unshowMainMenu()})),menuBtn.addEventListener("click",(e=>{window.innerWidth<=bp.desktop&&(e.preventDefault(),menuBtn.classList.contains("active")?unshowMainMenu():showMainMenu())}));const a=mainMenu.querySelectorAll("[data-level]"),c=mainMenu.querySelectorAll("[data-back-to-level]");function navMenuOnOpen(e){if(!e.classList.contains("active")){let t=e.dataset.level;mainMenu.querySelectorAll(`[data-level='${t}']`).forEach((e=>{e.classList.remove("active")})),e.classList.add("active")}}a.length&&a.forEach((e=>{e.addEventListener("mouseenter",(()=>{window.innerWidth>bp.desktop&&navMenuOnOpen(e)})),e.classList.contains("has-icon")&&e.querySelector(".main-menu__header")&&e.querySelector(".main-menu__header").addEventListener("click",(t=>{window.innerWidth<=bp.desktop&&(t.preventDefault(),navMenuOnOpen(e))}))})),c.length&&c.forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();let r=e.getAttribute("data-back-to-level");mainMenu.querySelector(`[data-level='${r}']`)&&mainMenu.querySelectorAll(`[data-level='${r}']`).forEach((e=>e.classList.remove("active")))}))})),window.addEventListener("resize",(()=>{window.innerWidth>bp.laptop&&unshowMainMenu()}))}const catFilter=document.querySelector(".cat-filter"),filterSelected=document.querySelector(".filter-selected__items"),filterCount=document.querySelectorAll(".filter-count");let catFilterObj;function initRangeSliders(){catFilter.querySelectorAll(".range-filter").forEach((e=>{let t=e.querySelector(".range-filter__start"),r=e.querySelector(".range-filter__end"),o=e.querySelector(".range-filter__slider"),n=(e.getAttribute("data-name"),e.getAttribute("data-id"),+e.getAttribute("data-start")),l=+e.getAttribute("data-end"),i=+e.getAttribute("data-min"),s=+e.getAttribute("data-max");noUiSlider.create(o,{start:[n,l],connect:!0,range:{min:i,max:s}}),t.addEventListener("change",(()=>{r.value||(r.value=s),o.noUiSlider.set([t.value,null]),setRangeSelected(e)})),r.addEventListener("change",(()=>{t.value||(t.value=i),o.noUiSlider.set([null,r.value]),setRangeSelected(e)}));let a=[t,r];o.noUiSlider.on("slide",(function(o,n){r.value||(r.value=s),t.value||(t.value=i),a[n].value=parseInt(o[n]),setRangeSelected(e)}))}))}function setRangeSelected(e){e.classList.contains("updated")||e.classList.add("updated")}catFilter&&filterSelected&&(initRangeSliders(),catFilterObj={checkInp:function(e){e.checked=!0,e.setAttribute("checked",!0)},uncheckInp:function(e){e.checked=!1,e.removeAttribute("checked")},setSelected:function(e){let t=e.nextElementSibling.textContent,r=e.getAttribute("data-id"),o=e.getAttribute("data-name"),n=o?o+" "+t.toLowerCase():t;filterSelected.insertAdjacentHTML("afterbegin",`<li data-target="${r}">${n}<button type="button" class="btn-cross"></button></li>`)},removeSelected:function(e){filterSelected.querySelector(`[data-target="${e}"]`)&&filterSelected.querySelector(`[data-target="${e}"]`).remove()},selectedOnClick:function(e){catFilterSubmit(),filterSelected.querySelectorAll("li").forEach((t=>{if(t.querySelector(".btn-cross").contains(e.target)){let e=t.getAttribute("data-target");const r=catFilter.querySelector(`[data-id='${e}']`);r.querySelector(".range-filter__slider")?r.querySelector(".range-filter__slider").noUiSlider.reset():this.uncheckInp(r),t.remove()}}))},selectedCount:function(){if(filterCount.length){let e=filterSelected.querySelector("li")?filterSelected.querySelectorAll("li").length:"";filterCount.forEach((t=>{t.textContent=e}))}},closeFilter:function(){catFilter.classList.contains("show")&&(catFilter.classList.remove("show"),enableScroll()),catFilterObj.selectedCount()},resetFilter:function(){catFilter.querySelectorAll("label input").forEach((e=>{this.uncheckInp(e)})),filterSelected.innerHTML="",catFilter.querySelector(".range-filter__slider")&&catFilter.querySelectorAll(".range-filter__slider").forEach((e=>e.noUiSlider.reset())),catFilterObj.closeFilter()}},catFilter.querySelectorAll("label input").forEach(((e,t)=>{e.checked&&catFilterObj.setSelected(e),catFilterObj.selectedCount()})),filterSelected.addEventListener("click",(e=>catFilterObj.selectedOnClick(e))),document.querySelectorAll(".filter-reset").forEach((e=>e.addEventListener("click",(()=>catFilterObj.resetFilter())))),document.querySelectorAll(".filter-submit").forEach((e=>e.addEventListener("click",(e=>{e.preventDefault(),filterSelected.innerHTML="",catFilter.querySelectorAll("label input").forEach(((e,t)=>{let r=e.getAttribute("data-id");e.checked?catFilterObj.setSelected(e):catFilterObj.removeSelected(r),catFilterObj.selectedCount()})),catFilter.querySelector(".range-filter")&&catFilter.querySelectorAll(".range-filter").forEach((e=>{if(e.classList.contains("updated")){let t=e.getAttribute("data-id"),r=e.getAttribute("data-name"),o=e.querySelector(".range-filter__slider").noUiSlider.get();filterSelected.insertAdjacentHTML("afterbegin",`<li data-target="${t}">${r+" "+Math.ceil(o[0])+"-"+Math.ceil(o[1])}<button type="button" class="btn-cross"></button></li>`)}})),catFilterObj.closeFilter(),catFilterSubmit()})))),document.querySelector(".filter-icon")&&(document.querySelector(".filter-icon").addEventListener("click",(()=>{disableScroll(),catFilter.classList.add("show")})),catFilter.querySelector(".cat-filter__close").addEventListener("click",(()=>{catFilterObj.closeFilter(),enableScroll()}))));const product=document.querySelector(".product"),productSwipers=document.querySelector(".product__swipers");if(product&&productSwipers){let d;productSwipers.querySelector(".product__thumbswiper")&&(d=new Swiper(".product__thumbswiper .swiper",{slidesPerView:4,spaceBetween:8,observer:!0,observeParents:!0,watchSlidesProgress:!0,breakpoints:{1700.98:{slidesPerView:5.31,spaceBetween:12}},navigation:{prevEl:productSwipers.querySelector(".nav-btn--prev"),nextEl:productSwipers.querySelector(".nav-btn--next")},speed:800}));new Swiper(".product__mainswiper .swiper",{slidesPerView:1,observer:!0,observeParents:!0,watchSlidesProgress:!0,effect:"fade",fadeEffect:{crossFade:!0},thumbs:{swiper:d||null},pagination:{el:productSwipers.querySelector(".swiper-pagination"),type:"bullets",clickable:!0},navigation:{prevEl:productSwipers.querySelector(".nav-btn--prev"),nextEl:productSwipers.querySelector(".nav-btn--next")},speed:300})}const cartP=document.querySelector(".cart-p");function cartSubmitBtn(e){document.querySelector(".cart-p__form .total-cart__submit")&&(Array.from(e).some((e=>e.checked))?document.querySelector(".total-cart__submit").classList.remove("disabled"):document.querySelector(".total-cart__submit").classList.add("disabled")),Array.from(e).some((e=>e.checked))&&!Array.from(e).every((e=>e.checked))?cartP.classList.add("some-items-checked"):cartP.classList.remove("some-items-checked")}if(cartP){const u=cartP.querySelector(".cart-p__inStock-allChek"),p=cartP.querySelectorAll(".item-cart--inStock .item-cart__check");u&&p.length&&allCheckBtn(u,p)}const clearCartBtns=document.querySelectorAll(".cart-clear-btn");clearCartBtns.length&&clearCartBtns.forEach((e=>{e.addEventListener("click",(()=>{let t=e.getAttribute("data-cart-type");const r=document.getElementById("cart-clear-modal");r&&(r.querySelector(".js-clear-cart").setAttribute("data-cart-type",t),openModal(document.querySelector("#cart-clear-modal")))}))}));const orderP=document.querySelector(".order-p");if(orderP){const m=orderP.querySelectorAll(".switch-block");function setFullAddress(){let e=[orderP.querySelector("[data-address='city']")?.textContent||"",orderP.querySelector("[data-address='locality']")?.value||"",orderP.querySelector("[data-address='street']")?.value||"",orderP.querySelector("[data-address='home']")?.value||""].filter(Boolean).join(", ");document.querySelector("[data-full-address]").textContent=e}m.length&&m.forEach((e=>{e.querySelectorAll("[data-tab]").forEach((t=>{t.addEventListener("click",(()=>{e.querySelectorAll("[data-block]").forEach((e=>{formReset(e)})),e.closest("[data-step]")&&orderP.querySelectorAll("[data-step]").forEach((t=>{Number(t.dataset.step)>Number(e.closest("[data-step]").dataset.step)&&(formReset(t),t.querySelector("[data-radio-value]")&&(t.querySelector("[data-radio-value]").innerHTML=""),t.querySelector(".switch-block [data-block]")&&t.querySelectorAll(".switch-block").forEach((e=>{e.querySelector("input[data-tab]")&&e.querySelectorAll("[data-block]").forEach((e=>e.classList.remove("active")))})))}))}))}))})),orderP.querySelector(".text-radio")&&orderP.querySelectorAll(".text-radio").forEach((e=>{e.querySelector("input").addEventListener("change",(()=>{const t=e.closest(".accordion");let r=e.querySelector("p").innerHTML;t&&r&&t.querySelector("[data-radio-value")&&(t.querySelector("[data-radio-value").innerHTML=r)}))})),document.querySelector("[data-address]")&&document.querySelector("[data-full-address]")&&(setFullAddress(),document.querySelectorAll("[data-address]").forEach((e=>{e.addEventListener("change",setFullAddress),e.closest(".item-form")&&e.closest(".item-form").querySelector(".item-form__reset")&&e.closest(".item-form").querySelector(".item-form__reset").addEventListener("click",setFullAddress)}))),orderP.querySelector("[data-agree]")&&orderP.querySelector(".total-cart__submit")&&orderP.querySelector("[data-agree]").addEventListener("change",(()=>{orderP.querySelector("[data-agree]").checked?orderP.querySelector(".total-cart__submit").classList.remove("disabled"):orderP.querySelector(".total-cart__submit").classList.add("disabled")}))}